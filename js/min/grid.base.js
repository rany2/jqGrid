/**
 * @license jqGrid 4.14.1-pre - free jqGrid: https://github.com/free-jqgrid/jqGrid
 * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com
 * Copyright (c) 2014-2017, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date: 2017-04-28
 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c,a.document)}):"object"==typeof module&&module.exports?module.exports=function(a,c){return a||(a=window),void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(c,a.document),c}:b(jQuery,a.document)}("undefined"!=typeof window?window:this,function($,document){"use strict";var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(a){var b=["st","nd","rd","th"];return a<11||a>13?b[Math.min((a-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.14.1-pre",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-carat-1-sw",openRtl:"ui-icon-carat-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"}},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-secondary",fmButton:"btn btn-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-secondary",actionsDiv:"",actionsButton:"btn btn-xs btn-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-secondary",deleteRuleButton:"btn btn-xs btn-secondary",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-secondary",deleteGroupButton:"btn btn-xs btn-secondary"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-secondary",clearButton:"btn btn-xs btn-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(a){return a&&("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))?"":a?String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):a},htmlEncode:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},oldEncodePostedData:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},oldDecodePostedData:function(a){return a&&("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))?"":a?String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):a},clearArray:function(a){for(;a.length>0;)a.pop()},format:function(a){var b=$.makeArray(arguments).slice(1);return null==a&&(a=""),a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})},template:function(a){var b,c=$.makeArray(arguments).slice(1),d=c.length;return null==a&&(a=""),a.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(a,e){var f,g;if(!isNaN(parseInt(e,10)))return c[parseInt(e,10)];for(b=0;b<d;b++)if($.isArray(c[b]))for(f=c[b],g=f.length;g--;)if(e===f[g].nm)return f[g].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var a=-1,b=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);return null!=b&&3===b.length&&(a=parseFloat(b[2]||-1)),a},fixMaxHeightOfDiv:function(a){return"Microsoft Internet Explorer"===navigator.appName?Math.min(a,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(a,17895696):a},getRelativeRect:function(a){var b,c,d=a instanceof $&&a.length>0?a[0]:a,e=$(d).outerHeight(),f=$(this).closest(".ui-jqgrid")[0];return f?(b=null!=d.getBoundingClientRect?d.getBoundingClientRect():$(d).offset(),c=null!=f.getBoundingClientRect?f.getBoundingClientRect():$(f).offset(),{top:b.top+e-c.top,left:b.left-c.left}):{top:0,left:0}},getCellIndex:function(a){var b=$(a);return b.is("tr")?-1:(b=(b.is("td")||b.is("th")?b:b.closest("td,th"))[0],null==b?-1:jgrid.msie?$.inArray(b,b.parentNode.cells):b.cellIndex)},stripHtml:function(a){return a=String(a),a?(a=a.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""),a&&"&nbsp;"!==a&&"&#160;"!==a?a.replace(/\"/g,"'"):""):a},stripPref:function(a,b){var c=$.type(a);return"string"!==c&&"number"!==c||(a=String(a),b=""!==a?String(b).replace(String(a),""):b),b},getRes:function(a,b){var c,d=b.split("."),e=d.length;if(null!=a){for(c=0;c<e;c++){if(!d[c])return null;if(void 0===(a=a[d[c]]))break;if("string"==typeof a)return a}return a}},parseDate:function(a,b,c,d){var e,f,g,h=0,i=0,j="string"==typeof b?b.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,k=function(a,b){for(a=String(a),b=parseInt(b,10)||2;a.length<b;)a="0"+a;return a},l={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},m=function(a,b){return 0===a?12===b&&(b=0):12!==b&&(b+=12),b};if(d=function(a,b){var c,d,e=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],f=b||{},g=(jgrid.formatter||{}).date||{},h=null==a||null==a.locale?{}:((locales[a.locale]||{}).formatter||{}).date,i=e.length,j={};for(c=0;c<i;c++)d=e[c],void 0!==f[d]?j[d]=f[d]:void 0!==g[d]?j[d]=g[d]:void 0!==h[d]&&(j[d]=h[d]);return j}(this.p,d),void 0===d.parseRe&&(d.parseRe=/[#%\\\/:_;.,\t\s\-]/),d.masks.hasOwnProperty(a)&&(a=d.masks[a]),b&&null!=b)if(isNaN(b)||"u"!==String(a).toLowerCase())if(isNaN(b)||"u1000"!==String(a).toLowerCase())if(b.constructor===Date)h=b;else if(null!==j)h=new Date(parseInt(j[1],10)),j[3]&&(i=60*Number(j[5])+Number(j[6]),i*="-"===j[4]?1:-1,i-=h.getTimezoneOffset(),h.setTime(Number(Number(h)+60*i*1e3)));else{for("ISO8601Long"===d.srcformat&&"Z"===b.charAt(b.length-1)&&(i-=(new Date).getTimezoneOffset()),b=String(b).replace(/\T/g,"#").replace(/\t/,"%").split(d.parseRe),a=a.replace(/\T/g,"#").replace(/\t/,"%").split(d.parseRe),f=0,g=Math.min(a.length,b.length);f<g;f++){switch(a[f]){case"M":e=$.inArray(b[f],d.monthNames),-1!==e&&e<12&&(b[f]=e+1,l.m=b[f]);break;case"F":e=$.inArray(b[f],d.monthNames,12),-1!==e&&e>11&&(b[f]=e+1-12,l.m=b[f]);break;case"n":l.m=parseInt(b[f],10);break;case"j":l.d=parseInt(b[f],10);break;case"g":l.h=parseInt(b[f],10);break;case"a":e=$.inArray(b[f],d.AmPm),-1!==e&&e<2&&b[f]===d.AmPm[e]&&(b[f]=e,l.h=m(b[f],l.h));break;case"A":e=$.inArray(b[f],d.AmPm),-1!==e&&e>1&&b[f]===d.AmPm[e]&&(b[f]=e-2,l.h=m(b[f],l.h))}void 0!==b[f]&&(l[a[f].toLowerCase()]=parseInt(b[f],10))}if(l.f&&(l.m=l.f),0===l.m&&0===l.y&&0===l.d)return"&#160;";l.m=parseInt(l.m,10)-1;var n=l.y;n>=70&&n<=99?l.y=1900+l.y:n>=0&&n<=69&&(l.y=2e3+l.y),h=new Date(l.y,l.m,l.d,l.h,l.i,l.s,l.u),0!==i&&h.setTime(Number(Number(h)+60*i*1e3))}else h=new Date(parseFloat(b));else h=new Date(1e3*parseFloat(b));else h=new Date(l.y,l.m,l.d,l.h,l.i,l.s,l.u);if(d.userLocalTime&&0===i&&0!==(i-=(new Date).getTimezoneOffset())&&h.setTime(Number(Number(h)+60*i*1e3)),void 0===c)return h;if(d.masks.hasOwnProperty(c)?c=d.masks[c]:c||(c="Y-m-d"),"u1000"===c.toLowerCase())return h.getTime();var o=h.getHours(),p=h.getMinutes(),q=h.getDate(),r=h.getMonth()+1,s=h.getTimezoneOffset(),t=h.getSeconds(),u=h.getMilliseconds(),v=h.getDay(),w=h.getFullYear(),x=(v+6)%7+1,y=(new Date(w,r-1,q)-new Date(w,0,1))/864e5,z=x<5?Math.floor((y+x-1)/7)+1:Math.floor((y+x-1)/7)||((new Date(w-1,0,1).getDay()+6)%7<4?53:52),A={d:k(q),D:d.dayNames[v],j:q,l:d.dayNames[v+7],N:x,S:d.S(q),w:v,z:y,W:z,F:d.monthNames[r-1+12],m:k(r),M:d.monthNames[r-1],n:r,t:"?",L:"?",o:"?",Y:w,y:String(w).substring(2),a:o<12?d.AmPm[0]:d.AmPm[1],A:o<12?d.AmPm[2]:d.AmPm[3],B:"?",g:o%12||12,G:o,h:k(o%12||12),H:k(o),i:k(p),s:k(t),u:u,e:"?",I:"?",O:(s>0?"-":"+")+k(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60,4),P:"?",T:(String(h).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g)||[""]).pop().replace(/[^\-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(h/1e3)};return c.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(a){return A.hasOwnProperty(a)?A[a]:a.substring(1)})},parseDateToNumber:function(a,b){var c=jgrid.parseDate.call(this,a,b);return c instanceof Date?c.getTime():0},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(a){var b=this;if(null==b.p||!b.p.id)return"";var c=b.p.id;switch(a){case COMPONENT_NAMES.GRID:return c;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+c;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+c;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+c;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+c;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+c;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(a){var b=jgrid.getGridComponentId.call(this,a);return b?"#"+jgrid.jqID(b):""},isHTMLElement:function(a){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?a instanceof HTMLElement:null!=a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},getGridComponent:function(a,b){var c;if(b instanceof $||b.length>0)c=b[0];else{if(!jgrid.isHTMLElement(b))return $();c=b,b=$(c)}switch(a){case COMPONENT_NAMES.BODY_TABLE:return b.hasClass("ui-jqgrid-bdiv")?b.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return b.hasClass("ui-jqgrid-hdiv")?b.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return b.hasClass("ui-jqgrid-sdiv")?b.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return b.hasClass("ui-jqgrid-hdiv")?b.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return b.hasClass("ui-jqgrid-sdiv")?b.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return b.hasClass("ui-jqgrid-btable")&&null!=c.grid?$(c.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return b.hasClass("ui-jqgrid-btable")&&null!=c.grid?$(c.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return b.hasClass("ui-jqgrid-btable")&&null!=c.grid?$(c.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var a=this,b=a.grid;if(b){var c=a.p,d=b.bDiv,e=function(a){var b=$(a).children("div").first();b.css(b.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",c.scrollOffset),a.scrollLeft=d.scrollLeft};$(d).width()>0&&(c.scrollOffset=d.offsetWidth-d.clientWidth,e(b.hDiv),b.sDiv&&e(b.sDiv))}},mergeCssClasses:function(){var a,b,c,d,e=$.makeArray(arguments),f={},g=[];for(a=0;a<e.length;a++)for(c=String(e[a]).replace(/[\t\r\n\f]/g," ").split(" "),b=0;b<c.length;b++)""===(d=c[b])||f.hasOwnProperty(d)||(f[d]=!0,g.push(d));return g.join(" ")},hasOneFromClasses:function(a,b){var c,d=$(a),e=String(b).replace(/[\t\r\n\f]/g," ").split(" "),f=e.length;for(c=0;c<f;c++)if(d.hasClass(e[c]))return!0;return!1},hasAllClasses:function(a,b){var c,d=$(a),e=String(b).replace(/[\t\r\n\f]/g," ").split(" "),f=e.length;for(c=0;c<f;c++)if(!d.hasClass(e[c]))return!1;return!0},detectRowEditing:function(a){return this.grid&&null!=this.p&&null!=this.p.editingInfo&&null!=this.p.editingInfo[a]?this.p.editingInfo[a]:null},getCell:function(a,b){var c,d,e=this.grid,f=this.p;return e&&f?((a instanceof $||a.length>0)&&(a=a[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&a instanceof HTMLTableRowElement&&null!=a.cells?(d=$(a.cells[b]),c=e.fbRows,null!=c&&b<c[0].cells.length?d.add(c[a.rowIndex].cells[b]):d):$()):$()},getDataFieldOfCell:function(a,b){var c,d=this.p,e=jgrid.getCell.call(this,a,b);return d.treeGrid&&e.children("div.tree-wrap").length>0&&(e=e.children("span.cell-wrapperleaf,span.cell-wrapper")),d.colModel[b].autoResizable?(c=e.children("span."+d.autoResizing.wrapperClassName),0===c.length&&(c=e)):c=e,c},enumEditableCells:function(a,b,c){var d=this,e=d.grid,f=d.rows,g=d.p;if(null==e||null==f||null==g||null==a||null==a.rowIndex||!a.id||!$.isFunction(c))return null;var h,i,j,k,l,m,n,o,p,q,r,s=g.colModel,t=s.length,u=a.rowIndex,v=e.fbRows,w=null!=v,x=w?v[u]:null;for(w&&(a=d.rows[u]),h=0;h<t&&(i=s[h],"cb"===(j=i.name)||"subgrid"===j||"rn"===j||(w&&!i.frozen&&(w=!1),p=(w?x:a).cells[h],q=$(p),q.hasClass("not-editable-cell")||(r=q.width(),!0===g.treeGrid&&j===g.ExpandColumn?(r-=q.children("div.tree-wrap").outerWidth(),q=q.children("span.cell-wrapperleaf,span.cell-wrapper").first()):r=0,l=stripPref(g.idPrefix,a.id),k={rowid:a.id,id:l,iCol:h,iRow:u,cmName:j,cm:i,mode:b,td:p,tr:a,trFrozen:x,dataElement:q[0],dataWidth:r},"local"===g.datatype&&(m=g._index[l],(n=null!=m?g.data[m]:void 0)&&(k.item=n)),i.edittype||(i.edittype="text"),((g.editingInfo[a.id]||{}).editable||{}).hasOwnProperty(j)?o=g.editingInfo[a.id].editable[j]:(o=i.editable,o=$.isFunction(o)?o.call(d,k):o),!0!==o&&"hidden"!==o||(k.editable=o,!1!==c.call(d,k)))));h++);},getEditedValue:function(a,b,c,d){var e,f,g,h,i,j,k=b.formatoptions||{},l=b.editoptions||{},m=l.custom_value,n="[name="+jgrid.jqID(b.name)+"]",o=this,p=$(o);if("hidden"===d||"readonly"===d)return $(o).jqGrid("getCell",a.closest("tr.jqgrow").attr("id"),b.name);switch(b.edittype){case"checkbox":f=["Yes","No"],"string"==typeof l.value&&(f=l.value.split(":")),e=a.find("input[type=checkbox]").is(":checked")?f[0]:f[1];break;case"text":case"password":case"textarea":case"button":h=a.find("input"+n+",textarea"+n),e=h.val(),"date"===h.prop("type")&&3===String(e).split("-").length&&(g=k.newformat||p.jqGrid("getGridRes","formatter.date.newformat"),e=jgrid.parseDate.call(o,"Y-m-d",e,g));break;case"select":h=a.find("select option:selected"),l.multiple?(i=[],j=[],h.each(function(){i.push($(this).val()),j.push($(this).text())}),e=i.join(","),c.text=j.join(",")):(e=h.val(),c.text=h.text()),c.value=e;break;case"custom":try{if(!$.isFunction(m))throw"e1";if(void 0===(e=m.call(o,a.find(".customelement"),"get")))throw"e2"}catch(a){var q,r=jgrid.info_dialog,s=function(a){p.jqGrid("getGridRes",a)};switch(String(a)){case"e1":q="function 'custom_value' "+s("edit.msg.nodefined");break;case"e2":break;default:q=a.message}r&&$.isFunction(r)?r.call(o,s("errors.errcap"),q,s("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(q)}break;default:e=a.find("*"+n).text()}return e},guid:1,uidPref:"jqg",randId:function(a){return(a||jgrid.uidPref)+jgrid.guid++},getAccessor:function(a,b){var c,d,e,f=[];if($.isFunction(b))return b(a);if(null!=a&&a.hasOwnProperty(b))return a[b];try{if("string"==typeof b&&(f=b.split(".")),e=f.length)for(c=a;null!=c&&e--;)d=f.shift(),c=c[d]}catch(a){}return c},getXmlData:function(a,b,c){var d="string"==typeof b?b.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(b))return b(a);if(d&&d[2])return d[1]?$(d[1],a).attr(d[2]):$(a).attr(d[2]);if(void 0!==a){var e=$(a).find(b);return c?e:e.length>0?$(e).text():void 0}},cellWidth:function(){var a=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),b=a.appendTo("body").find("td").width();return a.remove(),Math.abs(b-5)>.1},isCellClassHidden:function(a){var b=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(a||"")+"'></td></tr></table></div></div></div>"),c=b.appendTo("body").find("td").is(":hidden");return b.remove(),c},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(d.length>0&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(a){var b=[];return _trim&&b.push("jQuery.trim("),b.push("String("+a+" || '')"),_trim&&b.push(")"),_usecase||b.push(".toUpperCase()"),b.join("")},this._strComp=function(a){return"string"==typeof a?".toString()":""},this._group=function(a,b){return{field:a.toString(),unique:b,items:[]}},this._toStr=function(a){return _trim&&(a=$.trim(a)),a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?a:a.toUpperCase()},this._funcLoop=function(a){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b},this._append=function(a){var b;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,b=0;b<_orDepth;b++)_query+="(";_negate&&(_query+="!"),_query+="("+a+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(a,b){_lastCommand=a,_lastField=b},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(a,b){return null===_lastCommand?self:null!==a&&null!==b?_lastCommand(a,b):null===_lastField?_lastCommand(a):_lastCommand(_lastField,a)},this._equals=function(a,b){return 0===self._compare(a,b,1)},this._compare=function(a,b,c){return void 0===c&&(c=1),void 0===a&&(a=null),void 0===b&&(b=null),null===a&&null===b?0:null===a&&null!==b?1:null!==a&&null===b?-1:"[object Date]"===toString.call(a)&&"[object Date]"===toString.call(b)?a<b?-c:a>b?c:0:(_usecase||"number"==typeof a||"number"==typeof b||(a=String(a),b=String(b)),a<b?-c:a>b?c:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(a,b){var c=_sorting[b].by,d=_sorting[b].dir,e=_sorting[b].type,f=_sorting[b].datefmt,g=_sorting[b].sfunc;if(b===_sorting.length-1)return self._getOrder(a,c,d,e,f,g);b++;var h,i,j,k=self._getGroup(a,c,d,e,f),l=[];for(h=0;h<k.length;h++)for(j=self._doSort(k[h].items,b),i=0;i<j.length;i++)l.push(j[i]);return l},this._getOrder=function(a,b,c,d,e,f){var g,h,i,j=[],k=[],l="a"===c?1:-1;void 0===d&&(d="text"),i="float"===d||"number"===d||"currency"===d||"numeric"===d?function(a){var b=parseFloat(String(a).replace(/[\$,%]/g,""));return isNaN(b)?Number.NEGATIVE_INFINITY:b}:"int"===d||"integer"===d?function(a){return null!=a?parseFloat(String(a).replace(/[\$,%]/g,"")):Number.NEGATIVE_INFINITY
}:"date"===d||"datetime"===d?function(a){return jgrid.parseDateToNumber.call(context,e,a)}:$.isFunction(d)?d:function(a){return a=null!=a?$.trim(String(a)):"",_usecase?a:a.toUpperCase()},$.each(a,function(a,c){h=""!==b?jgrid.getAccessor(c,b):c,void 0===h&&(h=""),h=i(h,c),k.push({vSort:h,data:c,index:a})}),$.isFunction(f)?k.sort(function(a,b){return f.call(context,a.vSort,b.vSort,l,a.data,b.data)}):k.sort(function(a,b){return self._compare(a.vSort,b.vSort,l)});for(var m=0,n=a.length;m<n;)g=k[m].index,j.push(a[g]),m++;return j},this._getGroup=function(a,b,c,d,e){var f=[],g=null,h=null;return $.each(self._getOrder(a,b,c,d,e),function(a,c){var d=jgrid.getAccessor(c,b);null==d&&(d=""),self._equals(h,d)||(h=d,null!==g&&f.push(g),g=self._group(b,d)),g.items.push(c)}),null!==g&&f.push(g),f},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context:context})}),_data=results,self)},this.data=function(){return _data},this.select=function(a){if(self.execute(),$.isFunction(a)){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(a,b,c){return _negate=!_negate,self.and(a,b,c)},this.orNot=function(a,b,c){return _negate=!_negate,self.or(a,b,c)},this.not=function(a,b,c){return self.andNot(a,b,c)},this.and=function(a,b,c){return _queuedOperator=" && ",void 0===a?self:self._repeatCommand(a,b,c)},this.or=function(a,b,c){return _queuedOperator=" || ",void 0===a?self:self._repeatCommand(a,b,c)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(a){return _negate=!_negate,self.is(a)},this.is=function(a){return self._append("this."+a),self._resetNegate(),self},this._compareValues=function(a,b,c,d,e){var f=b;void 0===c&&(c=null);var g=c,h=void 0===e.stype?"text":e.stype;if(null!==c)switch(h){case"int":case"integer":g=String(g).replace(/[\$,%]/g,""),g=isNaN(Number(g))||""===g?"0":Number(g),f="parseInt("+f+"||0,10)",g=String(parseInt(g,10));break;case"boolean":f="normilizeBoolean("+f+")",g="normilizeBoolean("+String(g)+")";break;case"float":case"number":case"currency":case"numeric":g=String(g).replace(/[\$,%]/g,""),g=isNaN(Number(g))||""===g?"0":Number(g),f="parseFloat("+f+"||0)",g=String(g);break;case"date":case"datetime":g=String(jgrid.parseDateToNumber.call(context,e.newfmt||"Y-m-d",g)),f='jQuery.jgrid.parseDateToNumber.call(self,"'+e.srcfmt+'",'+f+")";break;default:f=self._getStr(f),g=self._getStr('"'+self._toStr(g)+'"')}return self._append(f+" "+d+" "+g),self._setCommand(a,b),self._resetNegate(),self},this.equals=function(a,b,c){return self._compareValues(self.equals,a,b,"==",c)},this.notEquals=function(a,b,c){return self._compareValues(self.equals,a,b,"!==",c)},this.isNull=function(a,b,c){return self._compareValues(self.equals,a,null,"===",c)},this.greater=function(a,b,c){return self._compareValues(self.greater,a,b,">",c)},this.less=function(a,b,c){return self._compareValues(self.less,a,b,"<",c)},this.greaterOrEquals=function(a,b,c){return self._compareValues(self.greaterOrEquals,a,b,">=",c)},this.lessOrEquals=function(a,b,c){return self._compareValues(self.lessOrEquals,a,b,"<=",c)},this.startsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return self._append(self._getStr(a)+".substr(0,"+d+") == "+self._getStr('"'+self._toStr(b)+'"')),self._setCommand(self.startsWith,a),self._resetNegate(),self},this.endsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return self._append(self._getStr(a)+".substr("+self._getStr(a)+".length-"+d+","+d+') == "'+self._toStr(b)+'"'),self._setCommand(self.endsWith,a),self._resetNegate(),self},this.contains=function(a,b){return self._append(self._getStr(a)+'.indexOf("'+self._toStr(b)+'",0) > -1'),self._setCommand(self.contains,a),self._resetNegate(),self},this.groupBy=function(a,b,c,d){return self._hasData()?self._getGroup(_data,a,b,c,d):null},this.orderBy=function(a,b,c,d,e){return b=null==b?"a":$.trim(b.toString().toLowerCase()),null==c&&(c="text"),null==d&&(d="Y-m-d"),null==e&&(e=!1),"desc"!==b&&"descending"!==b||(b="d"),"asc"!==b&&"ascending"!==b||(b="a"),_sorting.push({by:a,dir:b,type:c,datefmt:d,sfunc:e}),self},this.inSet=function(a,b,c){var d=void 0===b?null:b,e=void 0===c.stype?"text":c.stype;return d=self._getStr('"'+self._toStr(d)+'"'),"text"!==e?self._compareValues(self.equals,a,b,"==",c):(self._append("jQuery.inArray("+self._getStr(a)+","+d+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,a),self._resetNegate(),self)},this.custom=function(a,b,c){return self._append("self.p.customSortOperations."+a+'.filter.call(self,{item:this,cmName:"'+b+'",iCol:self.p.iColByName["'+b+'"]>=0 ? self.p.iColByName["'+b+'"] : self.p.iPropByName["'+b+'"],isAddProp:self.p.iColByName["'+b+'"]<0,searchValue:"'+c+'"})'),self._setCommand(self.custom,b),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(a,b,c){var d,e=this;return e instanceof $&&e.length>0&&(e=e[0]),"string"==typeof c?c:"string"==typeof(d=$(e).triggerHandler(b,c))?d:(null!=d&&"object"==typeof d||(d=c),$.isFunction(a)?a.call(e,d):d)},fullBoolFeedback:function(a,b){var c=this,d=$.makeArray(arguments).slice(2),e=$(c).triggerHandler(b,d);if(e=!1!==e&&"stop"!==e,$.isFunction(a)){var f=a.apply(c,d);!1!==f&&"stop"!==f||(e=!1)}return e},feedback:function(a,b,c,d){var e=this;if(e instanceof $&&e.length>0&&(e=e[0]),null==a||"string"!=typeof d||d.length<2)return null;var f="on"===d.substring(0,2)?"jqGrid"+b+d.charAt(2).toUpperCase()+d.substring(3):"jqGrid"+b+d.charAt(0).toUpperCase()+d.substring(1),g=$.makeArray(arguments).slice(4),h=a[d+c];return g.unshift(f),g.unshift(h),jgrid.fullBoolFeedback.apply(e,g)},builderSortIcons:function(a){var b=this,c=b.p,d=$(b),e=d.jqGrid("getGuiStyles","states.disabled"),f=function(f){var g=c.colModel[a],h=null!=g&&$.isFunction(g.sortIconName)?g.sortIconName:c.sortIconName,i=$.isFunction(h)?h.call(b,{order:f,iCol:a,cm:g}):d.jqGrid("getIconRes","sort."+f);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+f,"horizontal"===c.viewsortcols[1]?"ui-i-"+f:"",e,i,"ui-sort-"+c.direction)};return"<span class='s-ico"+(c.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+f("asc")+"'></span><span class='"+f("desc")+"'></span></span>"},builderFmButon:function(a,b,c,d,e){var f=this.p,g=$(this),h=function(a){return g.jqGrid("getGuiStyles","dialog."+a)};return null==f?"":"<a id='"+a+"' class='"+jgrid.mergeCssClasses("fm-button",h("fmButton"),h("right"===e?"rightCorner":"left"===e?"leftCorner":"defaultCorner"),"right"===d?"fm-button-icon-right":"left"===d?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(c?"<span class='fm-button-icon "+(g.jqGrid("getIconRes",c)||c)+"'></span>":"")+(b?"<span class='fm-button-text'>"+b+"</span>":"")+"</a>"},convertOnSaveLocally:function(a,b,c,d,e,f){if(null==this.p)return a;if($.isFunction(b.convertOnSave))return b.convertOnSave.call(this,{newValue:a,cm:b,oldValue:c,id:d,item:e,iCol:f});if("boolean"!=typeof c&&"number"!=typeof c)return a;if("boolean"!=typeof c||"checkbox"!==b.edittype&&"checkbox"!==b.formatter)"number"!=typeof c||isNaN(a)||("number"===b.formatter||"currency"===b.formatter?a=parseFloat(a):"integer"===b.formatter&&(a=parseInt(a,10)));else{var g=String(a).toLowerCase(),h=null!=b.editoptions&&"string"==typeof b.editoptions.value?b.editoptions.value.split(":"):["yes","no"];$.inArray(g,["1","true",h[0].toLowerCase()])>=0?a=!0:$.inArray(g,["0","false",h[1].toLowerCase()])>=0&&(a=!1)}return a},parseDataToHtml:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r=this,s=r.p,t=$(r),u=!1,v=[],w=[],x=!0!==s.altRows||t.jqGrid("isBootstrapGuiStyle")?"":s.altclass,y=!!s.grouping&&!0===s.groupingView.groupCollapse,z=parseInt(s.rowNum,10),A=$.fn.jqGrid,B=!0===s.treeGrid&&s.treeANode>-1?r.rows[s.treeANode].rowIndex+1:r.rows.length,C=r.formatCol;for(B<=1&&(s.rowIndexes={}),("local"===s.datatype&&!s.deselectAfterSort||s.multiPageSelection)&&(u=!0),f&&(z*=f+1),h=0;h<Math.min(a,z);h++){for(m=b[h],n=c[h],o=null!=d?d[h]:n,j=1===e?0:e,k=(j+h)%2==1?x:"",u?s.multiselect?(l=-1!==$.inArray(m,s.selarrrow))&&null===s.selrow&&(s.selrow=m):l=m===s.selrow:l=!1,p=v.length,v.push(""),i=0;i<s.colModel.length;i++)switch(q=s.colModel[i].name){case"rn":v.push(function(a,b,c,d){var e=(parseInt(c,10)-1)*parseInt(d,10)+1+b;return"<td role='gridcell' class='"+A.getGuiStyles.call(t,"rowNum","jqgrid-rownum")+"' "+C(a,b,e,null,b,!0)+">"+e+"</td>"}(i,h,s.page,s.rowNum));break;case"cb":v.push(function(a,b,c,d,e){var f="&nbsp;",g=!0,h={rowid:a,iRow:c,iCol:b,data:e,checked:d};return $.isFunction(s.hasMultiselectCheckBox)&&(g=s.hasMultiselectCheckBox.call(r,h)),g&&(f=$.isFunction(s.checkboxHtml)?s.checkboxHtml.call(r,h):"<input type='checkbox' id='jqg_"+s.id+"_"+a+"' class='cbox' name='jqg_"+s.id+"_"+a+"'"+(d?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+C(b,c,"",null,a,!0)+">"+f+"</td>"}(m,i,h,l,n));break;case"subgrid":v.push(A.addSubGridCell.call(t,i,h+e,m,n));break;default:v.push(function(a,b,c,d,e,f){var g=r.formatter(a,b,c,e,"add",f);return"<td role='gridcell' "+C(c,d,g,e,a,f)+">"+g+"</td>"}(m,n[q],i,h+e,o,n))}s.grouping&&A.groupingPrepare&&!s.groupingView._locgr&&(A.groupingPrepare.call(t,n,h),$.isFunction(s.groupingView.groupCollapse)&&(y=s.groupingView.groupCollapse.call(r,{group:s.groupingView.groups[s.groupingView.groups.length-1],rowid:m,data:n}))),v[p]=r.constructTr(m,y,k,n,o,l),v.push("</tr>"),s.rowIndexes[m]=B,B++,s.grouping&&(w.push(v),v=[]),v.length>s.maxItemsToJoin&&(v=[v.join("")])}return s.grouping&&A.groupingRender&&(g&&(s.groupingView._locgr=!0),v=[A.groupingRender.call(t,w,z)],jgrid.clearArray(w)),v},fillSelectOptions:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o=[],p=!1,q=function(a,b){if(b>0)return a};if(b){if("function"==typeof b&&(b=b()),"string"==typeof b)for(h=b.split(d),g=0;g<h.length;g++)i=h[g].split(c),i.length>2&&(i[1]=$.map(i,q).join(c)),o.push({value:i[0],innerHtml:i[1],selectValue:$.trim(i[0]),selectText:$.trim(i[1]),selected:!1}),""===i[0]&&(p=!0);else if("object"==typeof b)for(m in b)b.hasOwnProperty(m)&&o.push({value:m,innerHtml:b[m],selectValue:$.trim(m),selectText:$.trim(b[m]),selected:!1}),""===m&&(p=!0);if("string"==typeof f){for(n=e?$.map(f.split(","),function(a){return $.trim(a)}):[$.trim(f)],f=$.trim(f),g=0;g<o.length;g++)k=o[g],e||k.selectValue!==f||(k.selected=!0,l=!0),e&&$.inArray(k.selectValue,n)>-1&&(k.selected=!0,l=!0);if(!l)for(g=0;g<o.length;g++)k=o[g],e||k.selectText!==f||(k.selected=!0),e&&$.inArray(k.selectText,n)>-1&&(k.selected=!0)}for(g=0;g<o.length;g++)k=o[g],j=document.createElement("option"),j.value=k.value,j.innerHTML=k.innerHtml,k.selected&&(j.selected=!0),a.appendChild(j);return p}},getMethod:function(a){return this.getAccessor($.fn.jqGrid,a)},extend:function(a){$.extend($.fn.jqGrid,a),this.no_legacy_api||$.fn.extend(a)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var a=$.makeArray(arguments);return a.unshift(""),a.unshift(""),a.unshift(this.p),jgrid.feedback.apply(this,a)};$.fn.jqGrid=function(a){var b,c=$.fn.jqGrid;if("string"==typeof a){if(!(b=c[a]))throw"jqGrid - No such method: "+a;return b.apply(this,$.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var b,d,e=this,f=$(e),g=$.isFunction,h=$.isArray,i=$.extend,j=$.inArray,k=$.trim,l=$.each,m=c.setSelection,n=c.getGridRes,o=g(defaults.fatalError)?defaults.fatalError:alert,p=a.locale||defaults.locale||"en-US",q=null!=locales[p]&&"boolean"==typeof locales[p].isRTL&&locales[p].isRTL?"rtl":"ltr",r=a.iconSet||defaults.iconSet||("bootstrap"===(a.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(a.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),s=a.guiStyle||defaults.guiStyle||"jQueryUI",t=function(a){return c.getIconRes.call(e,a)},u=function(a,b){return f.jqGrid("getGuiStyles",a,b)},v=function(a,b,c){if("abort"!==b&&"abort"!==c){var d=a.getResponseHeader("Content-Type"),e=a.responseText||"",g=function(a){try{var b,c=$.parseJSON(a),d=[];for(b in c)c.hasOwnProperty(b)&&"StackTrace"!==b&&d.push(b+": "+c[b]);a=d.join("<br />")}catch(a){}return a};"text/html"===d?e=function(a){var b,c,d,e=document.createElement("div");for(d=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(a),e.innerHTML=null!=d&&2===d.length?d[1]:a,b=e.getElementsByTagName("script"),c=b.length;c--;)b[c].parentNode.removeChild(b[c]);a=e.innerHTML;try{""===$.trim($(a).text())&&(a="")}catch(a){}return a}(e):"application/json"===d?e=g(e):"text/plain"===d&&(e=g(e)),500!==a.status&&0!==a.status&&(e=(b||c)+(c&&c!==b?": "+c:"")+" "+a.status+" "+a.statusText+(""!==e?"<hr />":"")+e),f.jqGrid("displayErrorMessage",e||b||c)}};null==a&&(a={datatype:"local"}),void 0!==a.datastr&&h(a.datastr)&&(d=a.datastr,a.datastr=[]),void 0!==a.data&&(b=a.data,a.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||o("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===a.datatype&&void 0!==a.dataType&&(a.datatype=a.dataType,delete a.dataType),void 0===a.mtype&&void 0!==a.type&&(a.mtype=a.type,delete a.type),e.p={iconSet:r};var w=i(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],editingInfo:{},shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:v,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",filters:"filters",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,multiPageSelection:!1,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:q,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:t("grouping.common"),plusicon:t("grouping.plus"),minusicon:t("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:r,guiStyle:s,locale:p,multiSort:!1,treeIcons:{commonIconClass:t("treeGrid.common"),plusLtr:t("treeGrid.plusLtr"),plusRtl:t("treeGrid.plusRtl"),minus:t("treeGrid.minus"),leaf:t("treeGrid.leaf")}},defaults,{navOptions:i(!0,{commonIconClass:t("nav.common"),editicon:t("nav.edit"),addicon:t("nav.add"),delicon:t("nav.del"),searchicon:t("nav.search"),refreshicon:t("nav.refresh"),viewicon:t("nav.view"),saveicon:t("nav.save"),cancelicon:t("nav.cancel"),buttonicon:t("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:i(!0,{commonIconClass:t("actions.common"),editicon:t("actions.edit"),delicon:t("actions.del"),saveicon:t("actions.save"),cancelicon:t("actions.cancel")},jgrid.actionsNav||{}),formEditing:i(!0,{commonIconClass:t("form.common"),prevIcon:t("form.prev"),nextIcon:t("form.next"),saveicon:[!0,"left",t("form.save")],closeicon:[!0,"left",t("form.undo")]},jgrid.edit||{}),searching:i(!0,{commonIconClass:t("search.common"),findDialogIcon:t("search.search"),resetDialogIcon:t("search.reset"),queryDialogIcon:t("search.query")},jgrid.search||{}),formViewing:i(!0,{commonIconClass:t("form.common"),prevIcon:t("form.prev"),nextIcon:t("form.next"),closeicon:[!0,"left",t("form.cancel")]},jgrid.view||{}),formDeleting:i(!0,{commonIconClass:t("form.common"),delicon:[!0,"left",t("form.del")],cancelicon:[!0,"left",t("form.cancel")]},jgrid.del||{})},a||{}),x=function(a){return n.call(f,a)},y=function(a){var b=jgrid.getRes(w,a);return void 0!==b?b:n.call(f,"defaults."+a)};if(w.recordpos=w.recordpos||("rtl"===w.direction?"left":"right"),w.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==w.autoResizing.widthOfVisiblePartOfSortIcon?w.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===w.iconSet?13:12,w.datatype=void 0!==w.datatype?w.datatype:void 0!==b||null==w.url?"local":null!=w.jsonReader&&"object"==typeof w.jsonReader?"json":"xml",w.jsonReader=w.jsonReader||{},w.url=w.url||"",w.cellsubmit=void 0!==w.cellsubmit?w.cellsubmit:void 0===w.cellurl?"clientArray":"remote",w.gridview=void 0!==w.gridview?w.gridview:null==w.afterInsertRow,void 0!==b&&(w.data=b,a.data=b),void 0!==d&&(w.datastr=d,a.datastr=d),"TABLE"!==e.tagName.toUpperCase())return void o("Element is not a table!");if(""===e.id&&f.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)return void o("Grid can not be used in this ('quirks') mode!");f.empty().attr("tabindex","0"),e.p=w,w.id=e.id,w.idSel="#"+jqID(e.id),w.gBoxId=getGridComponentId.call(e,COMPONENT_NAMES.GRID_BOX_DIV),w.gBox=getGridComponentIdSelector.call(e,COMPONENT_NAMES.GRID_BOX_DIV),w.gViewId=getGridComponentId.call(e,COMPONENT_NAMES.GRID_VIEW_DIV),w.gView=getGridComponentIdSelector.call(e,COMPONENT_NAMES.GRID_VIEW_DIV),w.rsId=getGridComponentId.call(e,COMPONENT_NAMES.COLUMN_RESIZER_DIV),w.rs=getGridComponentIdSelector.call(e,COMPONENT_NAMES.COLUMN_RESIZER_DIV),w.cbId=getGridComponentId.call(e,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),w.cb=getGridComponentIdSelector.call(e,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var z=jgrid.fixScrollOffsetAndhBoxPadding,A=function(a){var b,c={},d=a.length;for(b=0;b<d;b++)c[a[b].name]=b;return c},B=function(){var a,b,c={},d=w.colModel,e=d.length;for(a=0;a<e;a++)b=d[a],(b.createColumnIndex||w.createColumnIndex&&!1!==b.createColumnIndex||"select"===b.stype&&(b.searchoptions||{}).generateValue||"select"===b.edittype&&(b.editoptions||{}).generateValue)&&(c[d[a].name]={});return c},C=function(a){var b,c,d={},e=a.length;for(b=0;b<e;b++)c=a[b],d["string"==typeof c?c:c.name]=b;return d},D=function(){var a,b,c={};for(this.p.rowIndexes=c,b=0;b<this.rows.length;b++)a=this.rows[b],$(a).hasClass("jqgrow")&&(c[a.id]=a.rowIndex)},E=function(a){var b=$(this).data("pageX");b?(b=String(b).split(";"),b=b[b.length-1],$(this).data("pageX",b+";"+a.pageX)):$(this).data("pageX",a.pageX)},F=function(a,b){return a=parseInt(a,10),isNaN(a)?b||0:a},G={headers:[],cols:[],footers:[],dragStart:function(a,b,c,d){var e=this,f=$(e.bDiv),g=f.closest(w.gBox).offset(),h=d.offset().left+("rtl"===w.direction?0:e.headers[a].width+(jgrid.cell_width?0:F(w.cellLayout,0))-2);e.resizing={idx:a,startX:h,sOL:h,moved:!1,delta:h-b.pageX},e.curGbox=$(w.rs),e.curGbox.prependTo("body"),e.curGbox.css({display:"block",left:h,top:c[1]+g.top+1,height:c[2]}),e.curGbox.css("height",c[2]-(e.curGbox.outerHeight()-e.curGbox.height())+"px"),e.curGbox.data("idx",a),e.curGbox.data("delta",h-b.pageX),E.call(this.curGbox,b),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,f)[0],"resizeStart",b,a),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",function(a){if(G.resizing)return G.dragMove(a),!1}).on("mouseup.jqGrid"+w.id,function(){if(G.resizing)return G.dragEnd(),!1})},dragMove:function(a){var b=this,c=b.resizing;if(c){var d,e,f=a.pageX+c.delta-c.startX,g=b.headers,h=g[c.idx],i="ltr"===w.direction?h.width+f:h.width-f,j=((w.colModel[c.idx]||{}).autoResizing||{}).minColWidth||w.minResizingWidth;c.moved=!0,i>j&&(null==b.curGbox&&(b.curGbox=$(w.rs)),b.curGbox.css({left:c.sOL+f}),!0===w.forceFit?(d=g[c.idx+w.nv],(e="ltr"===w.direction?d.width-f:d.width+f)>w.autoResizing.minColWidth&&(h.newWidth=i,d.newWidth=e)):(b.newWidth="ltr"===w.direction?w.tblwidth+f:w.tblwidth-f,h.newWidth=i))}},resizeColumn:function(a,b,d){var e,f=this,g=f.headers,h=f.footers,i=g[a],j=i.newWidth||i.width,k=getGridComponent(COMPONENT_NAMES.BODY_TABLE,f.bDiv),l=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,f.hDiv),m=l.children("thead").children("tr").first()[0].cells;j=parseInt(j,10),w.colModel[a].width=j,i.width=j,m[a].style.width=j+"px",f.cols[a].style.width=j+"px",f.fbRows&&($(f.fbRows[0].cells[a]).css("width",j),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,f.fhDiv)[0].rows[0].cells[a]).css("width",j),w.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,f.fsDiv)[0].rows[0].cells[a]).css("width",j)),h.length>0&&(h[a].style.width=j+"px"),!0!==d&&z.call(k[0]),!0===w.forceFit?(e=g[a+w.nv],j=e.newWidth||e.width,e.width=j,m[a+w.nv].style.width=j+"px",f.cols[a+w.nv].style.width=j+"px",h.length>0&&(h[a+w.nv].style.width=j+"px"),w.colModel[a+w.nv].width=j):(w.tblwidth=f.newWidth||w.tblwidth,!0!==d&&(f.hDiv.scrollLeft=f.bDiv.scrollLeft,w.footerrow&&(f.sDiv.scrollLeft=f.bDiv.scrollLeft))),w.autowidth||void 0!==w.widthOrg&&"auto"!==w.widthOrg&&"100%"!==w.widthOrg||!0===d||c.setGridWidth.call(k,f.newWidth+w.scrollOffset,!1),b||feedback.call(k[0],"resizeStop",j,a)},dragEnd:function(){var a=this;a.hDiv.style.cursor="default",a.resizing&&(null!==a.resizing&&!0===a.resizing.moved&&($(a.headers[a.resizing.idx].el).removeData("autoResized"),a.resizeColumn(a.resizing.idx,!1)),$(w.rs).removeData("pageX"),a.resizing=!1,setTimeout(function(){$(w.rs).css("display","none").prependTo(w.gBox)},w.doubleClickSensitivity)),a.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+w.id)},populateVisible:function(){var a=this,b=$(a),c=a.grid,d=c.bDiv,e=$(d);c.timer&&clearTimeout(c.timer),c.timer=null;var f=e.height();if(f){var g,h;if(a.rows.length)try{g=a.rows[1],h=g?$(g).outerHeight()||c.prevRowHeight:c.prevRowHeight}catch(a){h=c.prevRowHeight}if(h){c.prevRowHeight=h;var i=w.rowNum;c.scrollTop=d.scrollTop;var j,k,l,m=c.scrollTop,n=Math.round(b.position().top)-m,o=n+b.height(),p=h*i;if(o<f&&n<=0&&(void 0===w.lastpage||(parseInt((o+m+p-1)/p,10)||0)<=w.lastpage)&&(k=parseInt((f-o+p-1)/p,10)||1,o>=0||k<2||!0===w.scroll?(j=(Math.round((o+m)/p)||0)+1,n=-1):n=1),n>0&&(j=(parseInt(m/p,10)||0)+1,k=(parseInt((m+f)/p,10)||0)+2-j,l=!0),k){if(w.lastpage&&(j>w.lastpage||1===w.lastpage||j===w.page&&j===w.lastpage))return;c.hDiv.loading?c.timer=setTimeout(function(){c.populateVisible.call(a)},w.scrollTimeout):(w.page=j,l&&(c.selectionPreserver.call(a),c.emptyRows.call(a,!1,!1)),c.populate.call(a,k))}}}},scrollGrid:function(){if(w.scroll){var a=this.scrollTop;void 0===G.scrollTop&&(G.scrollTop=0),a!==G.scrollTop&&(G.scrollTop=a,G.timer&&clearTimeout(G.timer),G.timer=setTimeout(function(){G.populateVisible.call(e)},w.scrollTimeout))}return G.hDiv.scrollLeft=this.scrollLeft,w.footerrow&&(G.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var a=this,b=$(a),c=w.selrow,d=w.selarrrow?$.makeArray(w.selarrrow):null,e=a.grid.bDiv,f=e.scrollLeft,g=function(){var a;if(w.selrow=null,!w.multiPageSelection){if(clearArray(w.selarrrow),w.multiselect&&d&&d.length>0)for(a=0;a<d.length;a++)d[a]!==c&&m.call(b,d[a],!1,null);c&&m.call(b,c,!1,null)}e.scrollLeft=f,b.off(".selectionPreserver",g)};b.on("jqGridGridComplete.selectionPreserver",g)}};e.grid=G,feedback.call(e,"beforeInitGrid"),w.iColByName=A(w.colModel),w.iPropByName=C(w.additionalProperties);var H,I=$("<div class='"+u("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!w.multiselect+"'></div>"),J=jgrid.msie;w.direction=k(w.direction.toLowerCase()),-1===j(w.direction,["ltr","rtl"])&&(w.direction="ltr"),H=w.direction,$(I).insertBefore(e),f.removeClass("scroll").appendTo(I);var K=$("<div class='"+u("gBox","ui-jqgrid")+"'></div>");$(K).attr({id:w.gBoxId,dir:H}).insertBefore(I),$(I).attr("id",w.gViewId).appendTo(K),$("<div class='"+u("overlay","jqgrid-overlay")+"' id='lui_"+w.id+"'></div>").insertBefore(I),$("<div class='"+u("loading","loading")+"' id='load_"+w.id+"'>"+y("loadtext")+"</div>").insertBefore(I),f.attr({role:"presentation","aria-labelledby":"gbox_"+e.id});var L,M=["shiftKey","altKey","ctrlKey"],N=function(a){return stripPref(w.idPrefix,a)},O=function(a,b,c,d,f,h){var i,j,k,l,m,n,o,p=w.colModel[a],q=c,r=p.classes,s=p.align?"text-align:"+p.align+";":"",t=function(a){return"string"==typeof a?a.replace(/\'/g,"&#39;"):a},u=" aria-describedby='"+w.id+"_"+p.name+"'";if(!0===p.hidden&&(s+="display:none;"),0===b)s+="width: "+G.headers[a].width+"px;";else if((g(p.cellattr)||"string"==typeof p.cellattr&&null!=jgrid.cellattr&&g(jgrid.cellattr[p.cellattr]))&&(i=g(p.cellattr)?p.cellattr:jgrid.cellattr[p.cellattr],w.useUnformattedDataForCellAttr&&null!=h?q=h[p.name]:p.autoResizable&&(j="<span class='"+w.autoResizing.wrapperClassName+"'>",q=c.substring(j.length,c.length-"</span>".length)),"string"==typeof(l=i.call(e,f,q,d,p,h))))for(l=l.replace(/\n/g,"&#xA;");;){if(null===(m=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(l))||m.length<5)return!o&&p.title&&(o=q),u+" style='"+t(s)+"'"+(r?" class='"+t(r)+"'":"")+(o?" title='"+t(o)+"'":"");switch(n=m[3],l=m[4],m[1].toLowerCase()){case"class":r?r+=" "+n:r=n;break;case"title":o=n;break;case"style":s+=n;break;default:u+=" "+m[1]+"="+m[2]+n+m[2]}}return k=""!==s?"style='"+s+"'":"",k+=(void 0!==r?" class='"+r+"'":"")+(p.title&&q?" title='"+stripHtml(c).replace(/\'/g,"&apos;")+"'":""),k+=u},P=function(a){return null==a||""===a?"&#160;":w.autoencode?htmlEncode(a):String(a)},Q=function(a){var b=w.treeReader,c=b.loaded,d=b.leaf_field,e=b.expanded_field,f=function(a){return!0===a||"true"===a||"1"===a};if("nested"===w.treeGridModel&&!a[d]){var g=parseInt(a[b.left_field],10),h=parseInt(a[b.right_field],10);a[d]=h===g+1}void 0!==a[c]&&(a[c]=f(a[c])),a[d]=f(a[d]),a[e]=f(a[e])},R=function(a,b,c,d,f,h){var i,j=w.colModel[c];if(void 0!==j.formatter){a=""!==String(w.idPrefix)?N(a):a;var k={rowId:a,colModel:j,gid:w.id,pos:c,rowData:h||d};i=g(j.cellBuilder)?j.cellBuilder.call(e,b,k,d,f):g(j.formatter)?j.formatter.call(e,b,k,d,f):$.fmatter?$.fn.fmatter.call(e,j.formatter,b,k,d,f):P(b)}else i=P(b);if(i=j.autoResizable&&"actions"!==j.formatter?"<span class='"+w.autoResizing.wrapperClassName+"'>"+i+"</span>":i,w.treeGrid&&"edit"!==f&&(null==w.ExpandColumn&&0===c||w.ExpandColumn===j.name)){null==h&&(h=w.data[w._index[a]]);var l=parseInt(h[w.treeReader.level_field]||0,10),m=parseInt(w.tree_root_level,10),n=0===m?l:l-1,o=h[w.treeReader.leaf_field],p=h[w.treeReader.expanded_field],q=h[w.treeReader.icon_field],r=o?(null!=q&&""!==q?q:w.treeIcons.leaf)+" tree-leaf":p?w.treeIcons.minus+" tree-minus":w.treeIcons.plus+" tree-plus";i="<div class='tree-wrap' style='width:"+18*(n+1)+"px;'><div class='"+mergeCssClasses(w.treeIcons.commonIconClass,r,"treeclick")+"' style='"+(!0===w.ExpandColClick?"cursor:pointer;":"")+("rtl"===w.direction?"margin-right:":"margin-left:")+18*n+"px;'></div></div><span class='cell-wrapper"+(o?"leaf":"")+"'"+(w.ExpandColClick?" style='cursor:pointer;'":"")+">"+i+"</span>"}return i},S=function(a,b){var c=this,d=G.bDiv,e=null!=G.fbDiv?G.fbDiv.children(".ui-jqgrid-btable")[0]:null,f=function(a){if(a){var b=a.rows,c=b[0];if(w.deepempty)b&&$(b).slice(1).remove();else if(w.quickEmpty)if("quickest"===w.quickEmpty)a.replaceChild(document.createElement("tbody"),a.tBodies[0]),a.firstChild.appendChild(c);else for(;b.length>1;)a.deleteRow(b.length-1);else $(a.firstChild).empty().append(c)}};$(c).off(".jqGridFormatter"),f(c),f(e),a&&w.scroll&&($(d.firstChild).css({height:"auto"}),$(d.firstChild.firstChild).css({height:0,display:"none"}),0!==d.scrollTop&&(d.scrollTop=0)),!0===b&&w.treeGrid&&(clearArray(w.data),clearArray(w.lastSelectedData),w._index={},w.dataIndexById={},w.indexByColumnData={}),w.rowIndexes={},w.iRow=-1,w.iCol=-1},T=function(a,b){var c,d;for(c in w.indexByColumnData)w.indexByColumnData.hasOwnProperty(c)&&(d=a[c],a.hasOwnProperty(c)&&void 0!==d&&""!==d&&(w.ignoreCase&&(d=String(d).toLowerCase()),void 0===w.indexByColumnData[c][d]&&(w.indexByColumnData[c][d]={}),w.indexByColumnData[c][d][b]=a[c],void 0===w.dataIndexById[b]&&(w.dataIndexById[b]={}),void 0===w.dataIndexById[b][c]&&(w.dataIndexById[b][c]={}),w.dataIndexById[b][c][d]=w.indexByColumnData[c][d]))},U=function(a){var b,c,d,e=w.dataIndexById[a];if(null!=e){for(b in e)if(e.hasOwnProperty(b)){c=e[b];for(d in c)c.hasOwnProperty(d)&&(delete w.indexByColumnData[b][d][a],$.isEmptyObject(w.indexByColumnData[b][d])&&delete w.indexByColumnData[b][d])}delete w.dataIndexById[a]}},V=function(){var a,b,c,d,f,j,k,l,m,n,o,p,q=w.data,r=q.length,s=w.localReader,t=w.additionalProperties,u=s.cell,v=w.arrayReaderInfos;if("local"===w.datatype&&!0===s.repeatitems)for(d=!1===w.keyName?g(s.id)?s.id.call(e,q):s.id:w.keyName,isNaN(d)?g(d)||null!=w.arrayReaderInfos[d]&&(f=w.arrayReaderInfos[d].order):f=Number(d),a=0;a<r;a++){b=q[a],c=u?getAccessor(b,u)||b:b,n=h(c),k={};for(m in v)v.hasOwnProperty(m)&&(p=v[m],j=getAccessor(c,n?p.order:p.name),1===p.type&&null!=(o=t[p.index])&&g(o.convert)&&(j=o.convert(j,c)),void 0!==j&&(k[m]=j));void 0!==k[d]?l=void 0!==k[d]?k[d]:randId():(l=getAccessor(b,h(b)?f:d),
void 0===l&&(l=getAccessor(c,h(c)?f:d)),void 0===l&&(l=randId())),l=String(l),k[s.id]=l,w.treeGrid&&Q(k),i(q[a],k)}else if(w.treeGrid)for(a=0;a<r;a++)Q(q[a])},W=function(){var a,b,c,d,e=w.data.length;for(a=!1===w.keyName||w.loadonce?w.localReader.id:w.keyName,w._index={},w.dataIndexById={},w.indexByColumnData=B(),b=0;b<e;b++)d=w.data[b],c=getAccessor(d,a),void 0===c&&(c=String(randId()),void 0===d[a]&&(d[a]=c)),w._index[c]=b,T.call(this,d,c)},X=function(a,b,d,e,f,h){var i,j="-1",k="",l=b?"display:none;":"",m=this,n=u("gridRow","jqgrow ui-row-"+w.direction)+(d?" "+d:"")+(h?" "+u("states.select"):""),o=$(m).triggerHandler("jqGridRowAttr",[e,f,a]);if("object"!=typeof o&&(o=g(w.rowattr)?w.rowattr.call(m,e,f,a):"string"==typeof w.rowattr&&null!=jgrid.rowattr&&g(jgrid.rowattr[w.rowattr])?jgrid.rowattr[w.rowattr].call(m,e,f,a):{}),null!=o&&!$.isEmptyObject(o)){o.hasOwnProperty("id")&&(a=o.id,delete o.id),o.hasOwnProperty("tabindex")&&(j=o.tabindex,delete o.tabindex),o.hasOwnProperty("style")&&(l+=o.style,delete o.style),o.hasOwnProperty("class")&&(n+=" "+o.class,delete o.class);try{delete o.role}catch(a){}for(i in o)o.hasOwnProperty(i)&&(k+=" "+i+"="+o[i])}if(w.treeGrid&&parseInt(e[w.treeReader.level_field],10)!==parseInt(w.tree_root_level,10)){var p=c.getNodeParent.call($(this),e);!p||!p.hasOwnProperty(w.treeReader.expanded_field)||p[w.treeReader.expanded_field]||b||(l+="display:none;")}return"<tr role='row' id='"+a+"' tabindex='"+j+"' class='"+n+"'"+(""===l?"":" style='"+l+"'")+k+">"},Y=function(){var a,b,c=$.fn.fmatter;for(a=0;a<w.colModel.length;a++)"string"==typeof(b=w.colModel[a].formatter)&&null!=c&&g(c[b])&&g(c[b].pageFinalization)&&c[b].pageFinalization.call(this,a)},Z=function(a,b){var c,d,f,h=w.colModel,i=h.length,j=function(a){return null==a||""===a?"&#160;":htmlEncode(a)},k=function(a){return null==a||""===a?"&#160;":String(a)};for(c=0;c<i;c++)d=h[c],d.cellBuilder=null,a||(f={colModel:d,gid:w.id,pos:c},void 0===d.formatter?d.cellBuilder=w.autoencode?j:k:"string"==typeof d.formatter&&null!=$.fn.fmatter&&g($.fn.fmatter.getCellBuilder)?d.cellBuilder=$.fn.fmatter.getCellBuilder.call(e,d.formatter,f,b||"add"):g(d.getCellBuilder)&&(d.cellBuilder=d.getCellBuilder.call(e,f,b||"add")))},_=function(a,b,d,e){var f=this,i=$(f),j=new Date,k=w.datatype,l="local"!==k&&w.loadonce||"xmlstring"===k||"jsonstring"===k,m=("xmlstring"===k||"xml"===k)&&$.isXMLDoc(a),n=w.localReader,o=getAccessor;if(a&&("xml"!==k||m)){switch(-1!==w.treeANode||w.scroll?b=b>1?b:1:(G.emptyRows.call(f,!1,!0),b=1),l&&(clearArray(w.data),clearArray(w.lastSelectedData),w._index={},w.grouping&&null!=w.groupingView&&(w.groupingView.groups=[],w.groupingView._locgr=!1),w.localReader.id="_id_"),w.reccount=0,k){case"xml":case"xmlstring":n=w.xmlReader,o=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":n=w.jsonReader}var p,q,r,s,t,u,v,x,y,z,A,B,C,E={},H=w.colModel,I=H.length,J=w.arrayReaderInfos,K={},L=function(a){return function(b){var c=null!=b&&g(b.getAttribute)?b.getAttribute(a):null;return null!==c?c:void 0}},M=function(a){return function(){var b,c=K[a];if(null!=c)return b=c.childNodes,b.length>0?b[0].nodeValue:void 0}};w.page=F(o(a,n.page),w.page),w.lastpage=F(o(a,n.total),1),w.records=F(o(a,n.records)),g(n.userdata)?w.userData=n.userdata.call(f,a)||{}:m?o(a,n.userdata,!0).each(function(){w.userData[this.getAttribute("name")]=$(this).text()}):w.userData=o(a,n.userdata)||{},Z();var N,O,P,R,S={},U=w.additionalProperties,V=function(a,b){m&&"string"==typeof b&&(/^\w+$/.test(b)?S[a]=M(b):/^\[\w+\]$/.test(b)&&(S[a]=L(b.substring(1,b.length-1))))},W=function(a){var b=a.name,c=m?a.xmlmap||b:"local"===k&&!w.dataTypeOrg||"jsonstring"===k||"json"===k||"jsonp"===k?a.jsonmap||b:b;!1!==w.keyName&&!0===a.key&&(w.keyName=b),("string"==typeof c||g(c))&&(S[b]=c),g(c)||V(b,c)};for(p=0;p<I;p++)W(H[p]);for(I=U.length,p=0;p<I;p++)P=U[p],"object"==typeof P&&null!=P?W(P):V(P,P);if(t=!1===w.keyName?g(n.id)?n.id.call(f,a):n.id:w.keyName,isNaN(t)?g(t)||(J[t]&&(u=J[t].order),m&&("string"==typeof t&&/^\[\w+\]$/.test(t)?t=L(t.substring(1,t.length-1)):"string"==typeof t&&/^\w+$/.test(t)&&(t=M(t)))):u=Number(t),s=o(a,n.root,!0),n.row)if(1===s.length&&"string"==typeof n.row&&/^\w+$/.test(n.row)){for(R=[],z=s[0].childNodes,A=z.length,y=0;y<A;y++)B=z[y],1===B.nodeType&&B.nodeName===n.row&&R.push(B);s=R}else s=o(s,n.row,!0);null==s&&h(a)&&(s=a),s||(s=[]),r=s.length,r>0&&w.page<=0&&(w.page=1);var X=parseInt(w.rowNum,10);e&&(X*=e+1);var _,aa,ba=[],ca=[];for(R=[],p=0;p<r;p++){if(aa=s[p],q=n.repeatitems&&n.cell?o(aa,n.cell,!0)||aa:aa,N=n.repeatitems&&(m||h(q)),E={},K={},m&&!N&&null!=q)for(z=q.childNodes,A=z.length,y=0;y<A;y++)B=z[y],1===B.nodeType&&(K[B.nodeName]=B);for(x in J)J.hasOwnProperty(x)&&(C=J[x],N?(O=q[C.order],m&&null!=O&&(O=O.textContent||O.text)):O=null!=S[x]&&"string"!=typeof S[x]?S[x].call(f,q,{cmName:x,iItem:p}):o(q,"string"==typeof S[x]?S[x]:C.name),1===C.type&&null!=(P=U[C.index])&&g(P.convert)&&(O=P.convert(O,q)),void 0!==O&&(E[x]=O));if(void 0!==E[t]?_=void 0!==E[t]?E[t]:randId():(_=o(aa,h(aa)?u:t),void 0===_&&(_=o(q,h(q)?u:t)),void 0===_&&(_=randId())),void 0===E[t]&&(E[t]=_),_=String(_),v=w.idPrefix+_,w.treeGrid&&Q(E),p<X)ca.push(v),ba.push(q),R.push(E);else if(!l)break;(l||!0===w.treeGrid)&&(E._id_=_,w.data.push(E),T(E,_),w._index[E._id_]=w.data.length-1)}if(l&&!0!==w.treeGrid){if(w.forceClientSorting)return;w.lastSelectedData=w.data.slice()}var da=jgrid.parseDataToHtml.call(f,r,ca,R,ba,b,e,l);Z(!0);var ea=w.treeANode>-1?w.treeANode:0,fa=$(f.tBodies[0]);if(!0===w.treeGrid&&ea>0?$(f.rows[ea]).after(da.join("")):w.scroll?fa.append(da.join("")):null==f.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?(fa.html(fa.html()+da.join("")),f.grid.cols=f.rows[0].cells):(f.firstElementChild.innerHTML+=da.join(""),f.grid.cols=f.rows[0].cells),w.grouping&&D.call(f),!0===w.subGrid)try{c.addSubGrid.call(i,w.iColByName.subgrid)}catch(a){}if(!1===w.gridview||g(w.afterInsertRow))for(p=0;p<Math.min(r,X);p++)feedback.call(f,"afterInsertRow",ca[p],R[p],ba[p]);if(w.totaltime=new Date-j,p>0&&0===w.records&&(w.records=r),clearArray(da),!0===w.treeGrid)try{c.setTreeNode.call(i,ea+1,p+ea+1)}catch(a){}w.reccount=Math.min(r,X),w.treeANode=-1,w.userDataOnFooter&&c.footerData.call(i,"set",w.userData,!0),l&&(w.records=r,w.lastpage=Math.ceil(r/X)),d||f.updatepager(!1,!0),Y.call(f)}},aa=function(){function a(b){var c,d,e,f,h,j,k,l=0;if(null!=b.groups){for(d=b.groups.length&&"OR"===b.groupOp.toString().toUpperCase(),d&&u.orBegin(),c=0;c<b.groups.length;c++){l>0&&d&&u.or();try{a(b.groups[c])}catch(a){o(a)}l++}d&&u.orEnd()}if(null!=b.rules)try{for(e=b.rules.length&&"OR"===b.groupOp.toString().toUpperCase(),e&&u.orBegin(),c=0;c<b.rules.length;c++)h=b.rules[c],f=b.groupOp.toString().toUpperCase(),t[h.op]&&h.field?(l>0&&f&&"OR"===f&&(u=u.or()),null!=(k=i[h.field])&&(j=k.reader,u=t[h.op](u,f)(g(j)?'jQuery.jgrid.getAccessor(this,jQuery("'+w.idSel+'")[0].p.colModel['+k.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+j+"')",h.data,i[h.field]))):null!=w.customSortOperations&&null!=w.customSortOperations[h.op]&&g(w.customSortOperations[h.op].filter)&&(u=u.custom(h.op,h.field,h.data)),l++;e&&u.orEnd()}catch(a){o(a)}}var b=$(this),d=w.multiSort?[]:"",e={},f=!1,i={},j=[],k=[],m=x("formatter.date.srcformat"),n=x("formatter.date.newformat");if(!h(w.data))return{};w.multiSort&&ia(d,e);var p,q,r=!!w.grouping&&w.groupingView,s=function(a,b,c){var e,g,h=a.index||a.name,l=a.sorttype||"text";if(i[a.name]={reader:w.dataTypeOrg?a.name:a.jsonmap||a.name,iCol:b,stype:l,srcfmt:"",newfmt:"",sfunc:a.sortfunc||null,isAddProp:!0===c},"date"!==l&&"datetime"!==l||(a.formatter&&"string"==typeof a.formatter&&"date"===a.formatter?(e=a.formatoptions&&a.formatoptions.srcformat?a.formatoptions.srcformat:m,g=a.formatoptions&&a.formatoptions.newformat?a.formatoptions.newformat:n):e=g=a.datefmt||"Y-m-d",i[a.name].srcfmt=e,i[a.name].newfmt=g),w.grouping)for(q=0,p=r.groupField.length;q<p;q++)a.name===r.groupField[q]&&(j[q]=i[h],k[q]=h);w.multiSort||f||a.index!==w.sortname&&a.name!==w.sortname||(d=a.name,f=!0)};if(l(w.colModel,function(a){s(this,a)}),l(w.additionalProperties,function(a){s("string"==typeof this?{name:this}:this,a,!0)}),w.treeGrid)return c.SortTree.call(b,d,w.sortorder,null!=i[d]&&i[d].stype?i[d].stype:"text",null!=i[d]&&i[d].srcfmt?i[d].srcfmt:""),!1;var t={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return"OR"===b?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return"OR"===b?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return"OR"===b?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return"OR"===b?a.orNot().inSet:a.andNot().inSet},in:function(a){return a.inSet},nu:function(a){return a.isNull},nn:function(a,b){return"OR"===b?a.orNot().isNull:a.andNot().isNull}},u=jgrid.from.call(this,w.data);if(w.ignoreCase&&(u=u.ignoreCase()),!0===w.search){var v=w.postData[(w.searching||{}).sFilter||w.prmNames.filters];if(v)"string"==typeof v&&(v=$.parseJSON(v)),a(v);else try{var y=i[w.postData.searchField];u=t[w.postData.searchOper](u)(g(y.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+w.idSel+'")[0].p.colModel['+y.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+y.reader+"')",w.postData.searchString,i[w.postData.searchField])}catch(a){}}if(w.grouping)for(q=0;q<p&&q<k.length&&q<j.length;q++)u.orderBy(k[q],r.groupOrder[q],j[q].stype,j[q].srcfmt);w.multiSort?l(d,function(){u.orderBy(this,e[this],i[this].stype,i[this].srcfmt,i[this].sfunc)}):d&&w.sortorder&&f&&u.orderBy(w.sortname,"DESC"===w.sortorder.toUpperCase()?"d":"a",i[d].stype,i[d].srcfmt,i[d].sfunc),w.lastSelectedData=u.select();var z=parseInt(w.rowNum,10),A=w.lastSelectedData.length,B=parseInt(w.page,10),C=Math.ceil(A/z),D={};if(w.grouping&&w.groupingView._locgr){w.groupingView.groups=[];var E,F,G;if(w.footerrow&&w.userDataOnFooter){for(F in w.userData)w.userData.hasOwnProperty(F)&&(w.userData[F]=0);G=!0}for(E=0;E<A;E++){if(G)for(F in w.userData)w.userData.hasOwnProperty(F)&&(w.userData[F]+=parseFloat(w.lastSelectedData[E][F]||0));c.groupingPrepare.call(b,w.lastSelectedData[E],E,z)}}u=null,i=null;var H=w.localReader;return D[H.total]=C,D[H.page]=B,D[H.records]=A,D[H.root]=w.lastSelectedData.slice((B-1)*z,B*z),D[H.userdata]=w.userData,D},ba=function(a){var b,c=this,d=a.outerWidth();return d<=0&&(b=$(c).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+u("gBox","ui-jqgrid")+"' style='font-size:"+b+";visibility:hidden;margin:0;padding:0;' ></div>"),$(a).clone().appendTo("#testpg"),d=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),d>0&&a.parent().width(d),d},ca=function(a,b){var c,d,e,f,g,h,i,j,k=this,l=$(k),m=k.grid,n=w.pager||"",o=w.pager?"_"+w.pager.substr(1):"",p=m.bDiv,q=$.fmatter?$.fmatter.NumberFormat:null,r=w.toppager?"_"+w.toppager.substr(1):"",s=u("states.hover"),t=u("states.disabled");if(e=parseInt(w.page,10)-1,e<0&&(e=0),e*=parseInt(w.rowNum,10),g=e+w.reccount,w.scroll){var v=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,p)[0].rows).slice(1);e=g-v.length,w.reccount=v.length;var z=v.outerHeight()||m.prevRowHeight;if(z){var A=e*z,B=jgrid.fixMaxHeightOfDiv.call(k,parseInt(w.records,10)*z);$(p).children("div").first().css({height:B+"px"}).children("div").first().css({height:A+"px",display:""}),0===p.scrollTop&&w.page>1&&(p.scrollTop=w.rowNum*(w.page-1)*z)}p.scrollLeft=m.hDiv.scrollLeft}if(n+=w.toppager?(n?",":"")+w.toppager:""){if(i=x("formatter.integer")||{},c=F(w.page),d=F(w.lastpage),$(".selbox",n).prop("disabled",!1),!0===w.pginput){var C=$(".ui-pg-input",n),D=String(w.page).length;C.val(w.page),C.each(function(){var a=parseInt($(this).attr("size"),10);a>0&&a<D&&$(this).attr("size",D)}),j=w.toppager?"#sp_1"+o+",#sp_1"+r:"#sp_1"+o,$(j).html($.fmatter?q(w.lastpage,i):w.lastpage).closest(".ui-pg-table").each(function(){ba.call(k,$(this))})}w.viewrecords&&(0===w.reccount?$(".ui-paging-info",n).html(y("emptyrecords")):(f=e+1,h=w.records,$.fmatter&&(f=q(f,i),g=q(g,i),h=q(h,i)),$(".ui-paging-info",n).html(jgrid.format(y("recordtext"),f,g,h)))),!0===w.pgbuttons&&(d<=0&&(c=0),c<=0&&(c=d=0),1===c||0===c?($("#first"+o+", #prev"+o).addClass(t).removeClass(s),w.toppager&&$("#first_t"+r+", #prev_t"+r).addClass(t).removeClass(s)):($("#first"+o+", #prev"+o).removeClass(t),w.toppager&&$("#first_t"+r+", #prev_t"+r).removeClass(t)),c===d||0===c?($("#next"+o+", #last"+o).addClass(t).removeClass(s),w.toppager&&$("#next_t"+r+", #last_t"+r).addClass(t).removeClass(s)):($("#next"+o+", #last"+o).removeClass(t),w.toppager&&$("#next_t"+r+", #last_t"+r).removeClass(t)))}!0===a&&!0===w.rownumbers&&$(">td.jqgrid-rownum",k.rows).each(function(a){$(this).html(e+1+a)}),b&&w.jqgdnd&&l.jqGrid("gridDnD","updateDnD"),feedback.call(k,"gridComplete"),l.triggerHandler("jqGridAfterGridComplete")},da=function(){var a=this;a.grid.hDiv.loading=!0,w.hiddengrid||c.progressBar.call($(a),{method:"show",loadtype:w.loadui,htmlcontent:y("loadtext")})},ea=function(){var a=this;a.grid.hDiv.loading=!1,c.progressBar.call($(a),{method:"hide",loadtype:w.loadui})},fa=function(a){var b=this,d=$(b),f=b.grid;if(!f.hDiv.loading){var h,j,k=w.scroll&&!1===a,l={},m=w.prmNames;w.page<=0&&(w.page=Math.min(1,w.lastpage)),null!==m.search&&(l[m.search]=w.search),null!==m.nd&&(l[m.nd]=(new Date).getTime()),(isNaN(parseInt(w.rowNum,10))||parseInt(w.rowNum,10)<=0)&&(w.rowNum=w.maxRowNum),null!==m.rows&&(l[m.rows]=w.rowNum),null!==m.page&&(l[m.page]=w.page),null!==m.sort&&(l[m.sort]=w.sortname),null!==m.order&&(l[m.order]=w.sortorder),null!==w.rowTotal&&null!==m.totalrows&&(l[m.totalrows]=w.rowTotal);var n=g(w.loadComplete),o=n?w.loadComplete:null,p=0;if(a=a||1,a>1?null!==m.npage?(l[m.npage]=a,p=a-1,a=1):o=function(c){w.page++,f.hDiv.loading=!1,n&&w.loadComplete.call(b,c),fa.call(b,a-1)}:null!==m.npage&&delete w.postData[m.npage],w.grouping&&c.groupingSetup){c.groupingSetup.call(d);var q,r,s,t,u=w.groupingView,v="";for(q=0;q<u.groupField.length;q++){for(r=u.groupField[q],s=0;s<w.colModel.length;s++)t=w.colModel[s],t.name===r&&t.index&&(r=t.index);v+=r+" "+u.groupOrder[q]+", "}l[m.sort]=v+l[m.sort]}i(w.postData,l);var x=w.scroll?b.rows.length-1:1,y=function(){z.call(b),w.autowidth||void 0!==w.widthOrg&&"auto"!==w.widthOrg&&"100%"!==w.widthOrg||c.setGridWidth.call(d,w.tblwidth+w.scrollOffset,!1)},A=function(){var a;if(w.autoresizeOnLoad)c.autoResizeAllColumns.call(d),clearArray(w.columnsToReResizing),w.autowidth&&c.setGridWidth.call(d,d.closest(".ui-jqgrid").parent().width(),!0);else{for(a=0;a<w.columnsToReResizing.length;a++)c.autoResizeColumn.call(d,w.columnsToReResizing[a]);clearArray(w.columnsToReResizing)}},B=function(){feedback.call(b,"loadComplete",j),A(),d.triggerHandler("jqGridAfterLoadComplete",[j]),ea.call(b),w.datatype="local",w.datastr=null,y()},C=function(c){d.triggerHandler("jqGridLoadComplete",[c]),o&&o.call(b,c),A(),d.triggerHandler("jqGridAfterLoadComplete",[c]),k&&f.populateVisible.call(b),1===a&&ea.call(b),y()},D=function(){var c=aa.call(b);_.call(b,c,x,a>1,p),C(c)};if(!feedback.call(b,"beforeRequest"))return;if(g(w.datatype))return void w.datatype.call(b,w.postData,"load_"+w.id,x,a,p);switch(h=w.datatype.toLowerCase(),$(G.eDiv).hide(),h){case"json":case"jsonp":case"xml":case"script":$.ajax(i({url:w.url,type:w.mtype,dataType:h,data:jgrid.serializeFeedback.call(e,w.serializeGridData,"jqGridSerializeGridData",w.postData),success:function(c,d,e){if(w.jqXhr=null,$(G.eDiv).hide(),g(w.beforeProcessing)&&!1===w.beforeProcessing.call(b,c,d,e))return void ea.call(b);_.call(b,c,x,a>1,p),C(c),(w.loadonce||w.treeGrid)&&(w.dataTypeOrg=w.datatype,w.datatype="local",w.forceClientSorting&&D())},error:function(c,d,e){w.jqXhr=null,g(w.loadError)&&w.loadError.call(b,c,d,e),1===a&&ea.call(b)},beforeSend:function(a,c){var d=!0;if(g(w.loadBeforeSend)&&(d=w.loadBeforeSend.call(b,a,c)),void 0===d&&(d=!0),!1===d)return!1;w.jqXhr=a,da.call(b)}},jgrid.ajaxOptions,w.ajaxGridOptions));break;case"xmlstring":da.call(b),j="string"==typeof w.datastr?$.parseXML(w.datastr):w.datastr,_.call(b,j),B(),w.forceClientSorting&&D();break;case"jsonstring":da.call(b),j=w.datastr&&"string"==typeof w.datastr?$.parseJSON(w.datastr):w.datastr,_.call(b,j),B(),w.forceClientSorting&&D();break;case"local":case"clientside":da.call(b),w.datatype="local",D()}}},ga=function(a){var b=this,c=b.grid;$(w.cb,c.hDiv).prop("checked",a),w.frozenColumns&&$(w.cb,c.fhDiv).prop("checked",a)},ha=function(a,b){var c,d,f,g,h,i,j=u("states.hover"),k=u("states.disabled"),l="<td class='ui-pg-button "+k+"'><span class='ui-separator'></span></td>",m="",n="left"===w.pagerpos?"margin-right:auto;":"right"===w.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;",o="<table style='table-layout:auto;white-space: pre;"+n+"' class='ui-pg-table'><tbody><tr>",p="",q=function(a,b,c){return!!feedback.call(e,"onPaging",a,{newPage:b,currentPage:F(w.page,1),lastPage:F(w.lastpage,1),currentRowNum:F(w.rowNum,10),newRowNum:c})&&(w.selrow=null,w.multiselect&&(w.multiPageSelection||clearArray(w.selarrrow),ga.call(e,!1)),clearArray(w.savedRow),w.editingInfo={},!0)};if(b+="_"+a,c="pg_"+a,d=a+"_left",f=a+"_center",g=a+"_right",$("#"+jqID(a)).append("<div id='"+c+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+d+"' class='ui-jqgrid-pg-left'"+(void 0!==w.pagerLeftWidth?" style='width:"+w.pagerLeftWidth+"px;'":"")+"></td><td id='"+f+"' class='ui-jqgrid-pg-center'"+(void 0!==w.pagerCenterWidth?" style='width:"+w.pagerCenterWidth+"px;'":"")+"></td><td id='"+g+"' class='ui-jqgrid-pg-right'"+(void 0!==w.pagerRightWidth?" style='width:"+w.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),c="#"+jqID(c),w.rowList.length>0){p="<td dir='"+H+"'>";var r=y("pgrecs");p+="<select class='"+u("pager.pagerSelect","ui-pg-selbox")+"' "+(r?"title='"+r+"'":"")+">";var s;for(i=0;i<w.rowList.length;i++)s=w.rowList[i].toString().split(":"),1===s.length&&(s[1]=s[0]),p+="<option value='"+s[0]+"'"+(F(w.rowNum,0)===F(s[0],0)?" selected='selected'":"")+">"+s[1]+"</option>";p+="</select></td>"}if("rtl"===H&&(o+=p),!0===w.pginput&&(m="<td dir='"+H+"'>"+jgrid.format(y("pgtext")||"","<input aria-label='Page No.' class='"+u("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+a+"'>0</span>")+"</td>"),a="#"+jqID(a),!0===w.pgbuttons){var v=["first","prev","next","last"],x=v.slice(),z=u("pager.pagerButton","ui-pg-button");for("rtl"===H&&v.reverse(),i=0;i<v.length;i++)o+=function(a,c){var d=y("pg"+a);return"<td role='button' tabindex='0' id='"+a+b+"' class='"+z+"' "+(d?"title='"+d+"'":"")+"><span class='"+t("pager."+c)+"'></span></td>"}(v[i],x[i]),1===i&&(o+=""!==m?l+m+l:"")}else""!==m&&(o+=m);"ltr"===H&&(o+=p),o+="</tr></tbody></table>",!0===w.viewrecords&&$("td"+a+"_"+w.recordpos,c).append("<span dir='"+H+"' style='text-align:"+w.recordpos+"' class='ui-paging-info'></span>");var A=$("td"+a+"_"+w.pagerpos,c);A.append(o),h=ba.call(this,A.children(".ui-pg-table")),w._nvtd=[],w._nvtd[0]=h?Math.floor((w.width-h)/2):Math.floor(w.width/3),w._nvtd[1]=0,o=null,$(".ui-pg-selbox",c).on("change",function(){var a=F(this.value,10),b=Math.round(w.rowNum*(w.page-1)/a-.5)+1;return!!q("records",b,a)&&(w.page=b,w.rowNum=a,w.pager&&$(".ui-pg-selbox",w.pager).val(a),w.toppager&&$(".ui-pg-selbox",w.toppager).val(a),fa.call(e),!1)}),!0===w.pgbuttons&&($(".ui-pg-button",c).hover(function(){hasOneFromClasses(this,k)?this.style.cursor="default":($(this).addClass(j),this.style.cursor="pointer")},function(){hasOneFromClasses(this,k)||($(this).removeClass(j),this.style.cursor="default")}),$("#first"+jqID(b)+", #prev"+jqID(b)+", #next"+jqID(b)+", #last"+jqID(b)).click(function(){if(hasOneFromClasses(this,k))return!1;var a=F(w.page,1),c=a,d=this.id,f=F(w.lastpage,1),g=!1,h=!0,i=!0,j=!0,l=!0;return 0===f||1===f?(a<=1&&(h=!1,i=!1),j=!1,l=!1):f>1&&a>=1?1===a?(h=!1,i=!1):a===f&&(j=!1,l=!1):f>1&&0===a&&(j=!1,l=!1,a=f-1),this.id==="first"+b&&h&&(d="first",c=1,g=!0),this.id==="prev"+b&&i&&(d="prev",c=a-1,g=!0),this.id==="next"+b&&j&&(d="next",c=a+1,g=!0),this.id==="last"+b&&l&&(d="last",c=f,g=!0),!!q(d,c,F(w.rowNum,10))&&(w.page=c,g&&fa.call(e),!1)})),!0===w.pginput&&$("input.ui-pg-input",c).on("keypress.jqGrid",function(a){var b=a.charCode||a.keyCode||0,c=F($(this).val(),1);return 13===b?!!q("user",c,F(w.rowNum,10))&&($(this).val(c),w.page=$(this).val()>0?$(this).val():w.page,fa.call(e),!1):this}),A.children(".ui-pg-table").on("keydown.jqGrid",function(a){var b;13===a.which&&(b=A.find(":focus"),b.length>0&&b.trigger("click"))})},ia=function(a,b,c){if(l((w.sortname+" "+w.sortorder).split(","),function(){var b=$.trim(this).split(" ");2===b.length&&a.push(b[0])}),null!=c){var d=$.inArray(c.index||c.name,a);""!==c.lso&&d<0?a.push(c.index||c.name):""===c.lso&&d>=0&&a.splice(d,1)}l(w.colModel,function(){var c,d=this.index||this.name;this.lso&&(c=this.lso.split("-"),$.inArray(d,a)<0&&a.push(d),b[d]=c[c.length-1])})},ja=function(a,b){var c,d="",f=w.colModel[a],g=u("states.disabled"),h=$(w.frozenColumns?b:e.grid.headers[a].el),i=h.find("span.s-ico"),j=i.children("span.ui-icon-asc"),k=i.children("span.ui-icon-desc"),m=j,n=k,o=[],p={};h.find("span.ui-grid-ico-sort").addClass(g),h.attr("aria-selected","false"),f.lso?(i.show(),c=f.lso.split("-"),c=c[c.length-1],"desc"===c&&(m=k,n=j),m.removeClass(g).css("display",""),w.showOneSortIcon&&n.hide(),h.attr("aria-selected","true")):w.viewsortcols[0]||i.hide(),ia(o,p,f),l(o,function(){d.length>0&&(d+=", "),d+=this+" "+p[this],w.sortorder=p[this]}),w.sortname=d.substring(0,d.length-w.sortorder.length-1)},ka=function(a,b,d,e,f){var g=this,h=g.grid,i=w.colModel[b],j=u("states.disabled");if(null!=i&&i.sortable&&!(w.savedRow.length>0)){if(d||(w.lastsort===b&&""!==w.sortname?("asc"===w.sortorder?w.sortorder="desc":"desc"===w.sortorder?w.sortorder="asc":w.sortorder=i.firstsortorder||"asc",i.lso?"asc"===i.lso?i.lso+="-desc":"desc"===i.lso?i.lso+="-asc":"asc-desc"!==i.lso&&"desc-asc"!==i.lso||!w.threeStateSort&&!w.multiSort||(i.lso=""):i.lso=i.firstsortorder||"asc"):i.lso=w.sortorder=i.firstsortorder||"asc",w.page=1),w.multiSort)ja(b,f);else{if(e){if(w.lastsort===b&&w.sortorder===e&&!d)return;w.sortorder=e}var k=h.headers,l=h.fhDiv,m=k[w.lastsort]?$(k[w.lastsort].el):$(),n=$(w.frozenColumns?f:k[b].el),o=n.find("span.s-ico"),p=o.children("span.ui-icon-"+w.sortorder),q=o.children("span.ui-icon-"+("asc"===w.sortorder?"desc":"asc"));i=w.colModel[w.lastsort],m.find("span.ui-grid-ico-sort").addClass(j),m.attr("aria-selected","false"),w.frozenColumns&&(l.find("span.ui-grid-ico-sort").addClass(j),l.find("th").attr("aria-selected","false")),w.viewsortcols[0]||(w.lastsort!==b?(w.frozenColumns&&l.find("span.s-ico").hide(),m.find("span.s-ico").hide(),o.show()):""===w.sortname&&o.show()),w.lastsort!==b&&"true"===m.data("autoResized")&&(null!=i&&null!=i.autoResizing&&i.autoResizing.compact||w.autoResizing.compact)&&w.columnsToReResizing.push(w.lastsort),i=w.colModel[b],o.css("display",""),""!==i.lso?(p.removeClass(j).css("display",""),w.showOneSortIcon&&q.removeClass(j).hide(),n.attr("aria-selected","true")):(n.attr("aria-selected","false"),w.threeStateSort&&(w.sortorder="",w.viewsortcols[0]||o.hide())),w.lastsort!==b&&"true"===n.data("autoResized")&&(null!=i&&null!=i.autoResizing&&i.autoResizing.compact||w.autoResizing.compact)&&w.columnsToReResizing.push(b),a=a.substring(5+w.id.length+1),w.sortname=i.index||a}if(!feedback.call(g,"onSortCol",w.sortname,b,w.sortorder))return void(w.lastsort=b);if("local"===w.datatype?w.deselectAfterSort&&!w.multiPageSelection&&c.resetSelection.call($(g)):w.multiPageSelection||(w.selrow=null,w.multiselect&&(ga.call(g,!1),clearArray(w.selarrrow))),clearArray(w.savedRow),w.editingInfo={},w.scroll){var r=h.bDiv.scrollLeft;G.emptyRows.call(g,!0,!1),h.hDiv.scrollLeft=r}w.subGrid&&"local"===w.datatype&&$("td.sgexpanded","#"+jqID(w.id)).each(function(){$(this).trigger("click")}),fa.call(g),w.lastsort=b,w.sortname!==a&&b&&(w.lastsort=b)}},la=function(a){var b,c=a,d=a;for(b=a+1;b<w.colModel.length;b++)if(!0!==w.colModel[b].hidden){d=b;break}return d-c},ma=function(a){return w.iColByName[(a.id||"").substring(w.id.length+1)]};-1===j(w.multikey,M)&&(w.multikey=!1),w.keyName=!1,w.sortorder=w.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var na,oa,pa=jgrid.cmTemplate;for(na=0;na<w.colModel.length;na++)oa=w.colModel[na],L="string"==typeof oa.template?null==pa||"object"!=typeof pa[oa.template]&&!$.isFunction(pa[oa.template])?{}:pa[oa.template]:oa.template,g(L)&&(L=L.call(e,{cm:oa,iCol:na})),oa=i(!0,{},w.cmTemplate,L||{},oa),!1===w.keyName&&!0===oa.key&&(w.keyName=oa.name),w.colModel[na]=oa;for(w.indexByColumnData=B(),na=0;na<w.additionalProperties.length;na++)oa=w.additionalProperties[na],!1===w.keyName&&!0===oa.key&&(w.keyName=oa.name);if(0===w.colNames.length)for(na=0;na<w.colModel.length;na++)w.colNames[na]=void 0!==w.colModel[na].label?w.colModel[na].label:w.colModel[na].name;if(w.colNames.length!==w.colModel.length)return void o(x("errors.model"));if(!0===w.grouping&&(w.scroll=!1,w.rownumbers=!1,w.treeGrid=!1,w.gridview=!0),w.subGrid&&g(c.setSubGrid))try{c.setSubGrid.call(f)}catch(a){}if(w.multiselect&&("left"===w.multiselectPosition||"right"===w.multiselectPosition)){var qa="left"===w.multiselectPosition?"unshift":"push";w.colNames[qa]("<input id='"+w.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),w.colModel[qa]({name:"cb",width:jgrid.cell_width?w.multiselectWidth+w.cellLayout:w.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(w.rownumbers&&(w.colNames.unshift(""),w.colModel.unshift({name:"rn",width:jgrid.cell_width?w.rownumWidth+w.cellLayout:w.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),w.iColByName=A(w.colModel),w.xmlReader=i(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},w.xmlReader),w.jsonReader=i(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},w.jsonReader),w.localReader=i(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},w.localReader),w.scroll&&(w.pgbuttons=!1,w.pginput=!1,w.rowList=[]),!0===w.treeGrid){try{c.setTreeGrid.call(f)}catch(a){}"local"!==w.datatype&&(w.localReader={id:"_id_"}),w.iPropByName=C(w.additionalProperties)}if(function(){var a,b,c,d=w.remapColumns,e=w.colModel,f=e.length,g=[];for(a=0;a<f;a++)c=e[a].name,j(c,w.reservedColumnNames)<0&&g.push(c);if(null!=d)for(b=g.slice(),a=0;a<d.length;a++)g[a]=b[d[a]];w.cmNamesInputOrder=g}(),function(){var a,b,c,d,e,f=w.colModel,g=w.cmNamesInputOrder,h=w.additionalProperties,i=g.length;for(w.arrayReaderInfos={},b=w.arrayReaderInfos,e=0;e<i;e++)c=g[e],j(c,w.reservedColumnNames)<0&&!b.hasOwnProperty(c)&&(d=w.iColByName[c],void 0!==d?b[c]={name:c,index:d,order:e,type:0}:(d=w.iPropByName[c],void 0!==d?b[c]={name:c,index:d,order:e,type:1}:c===(w.prmNames.rowidName||"rowid")&&(b[c]={index:d,type:2})));for(i=f.length,a=0;a<i;a++)c=f[a].name,j(c,w.reservedColumnNames)<0&&!b.hasOwnProperty(c)&&(b[c]={name:c,index:a,order:e,type:0},e++);for(i=h.length,a=0;a<i;a++)null==(c=h[a])||b.hasOwnProperty(c)||("object"==typeof c&&"string"===$.type(c.name)&&(c=c.name),b[c]={name:c,index:a,order:e,type:1},e++)}(),w.data.length&&(V.call(e),W.call(e)),!0===w.shrinkToFit&&!0===w.forceFit)for(na=w.colModel.length-1;na>=0;na--)if(!0!==w.colModel[na].hidden){w.colModel[na].resizable=!1;break}var ra,sa,ta,ua,va,wa,xa,ya,za=[],Aa=[],Ba=[],Ca="<thead><tr class='ui-jqgrid-labels' role='row'>",Da="<tbody><tr style='display:none;'>",Ea=u("states.hover"),Fa=u("states.disabled");if(w.multiSort){za=w.sortname.split(",");var Ga;for(Ga=0;Ga<za.length;Ga++)Ba=k(za[Ga]).split(" "),za[Ga]=k(Ba[0]),Aa[Ga]=Ba[1]?k(Ba[1]):w.sortorder||"asc"}for(na=0;na<w.colNames.length;na++){switch(oa=w.colModel[na],va=w.headertitles||oa.headerTitle?" title='"+stripHtml("string"==typeof oa.headerTitle?oa.headerTitle:w.colNames[na])+"'":"",Ca+="<th id='"+w.id+"_"+oa.name+"' class='"+u("colHeaders","ui-th-column ui-th-"+H+" "+(oa.labelClasses||""))+"'"+va+">",ra=oa.index||oa.name,oa.labelAlign){case"left":wa="text-align:left;";break;case"right":wa="text-align:right;"+(!1===oa.sortable?"":"padding-right:"+w.autoResizing.widthOfVisiblePartOfSortIcon+"px;");break;case"likeData":wa=void 0===oa.align||"left"===oa.align?"text-align:left;":"right"===oa.align?"text-align:right;"+(!1===oa.sortable?"":"padding-right:"+w.autoResizing.widthOfVisiblePartOfSortIcon+"px;"):"";break;default:wa=""}Ca+="<div id='jqgh_"+w.id+"_"+oa.name+"'"+(J?" class='ui-th-div-ie'":"")+(""===wa?"":" style='"+wa+"'")+" role='columnheader'>",ya=oa.autoResizable&&"actions"!==oa.formatter?"<span class='"+w.autoResizing.wrapperClassName+"'>"+w.colNames[na]+"</span>":w.colNames[na],w.sortIconsBeforeText?(Ca+=(w.builderSortIcons||jgrid.builderSortIcons).call(e,na),Ca+=ya):(Ca+=ya,Ca+=(w.builderSortIcons||jgrid.builderSortIcons).call(e,na)),Ca+="</div></th>",Da+="<td></td>",oa.width=oa.width?parseInt(oa.width,10):150,"boolean"!=typeof oa.title&&(oa.title=!0),oa.lso="",ra===w.sortname&&(w.lastsort=na,oa.lso=w.sortorder||oa.firstsortorder||"asc"),w.multiSort&&-1!==(Ba=j(ra,za))&&(oa.lso=Aa[Ba])}Ca+="</tr></thead>",Da+="</tr></tbody>";var Ha=$("<table class='"+u("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+w.id+"'>"+Ca+Da+"</table>");if($(Ha[0].tHead).children("tr").children("th").hover(function(){$(this).addClass(Ea)},function(){$(this).removeClass(Ea)}),w.multiselect&&$(w.cb,Ha).on("click",function(){var a,b,c=u("states.select"),d=[],f=w.iColByName.cb,g=function(a,b){$(a)[b?"addClass":"removeClass"](c).attr(b?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==f&&$(a.cells[f]).children("input.cbox").prop("checked",b)},h=G.fbRows,i=Fa+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",j=w._index;if(clearArray(w.selarrrow),this.checked){if(a=!0,w.selrow=e.rows.length>1?e.rows[e.rows.length-1].id:null,w.multiPageSelection&&("local"===w.datatype||w.treeGrid)&&null!=w.data&&w.data.length>0&&null!=j)for(b in j)j.hasOwnProperty(b)&&w.selarrrow.push(w.idPrefix+b)}else a=!1,w.selrow=null;var k=a?w.selarrrow:d;$(e.rows).each(function(b){hasOneFromClasses(this,i)||(g(this,a),$.inArray(this.id,k)<0&&k.push(this.id),h&&g(h[b],a))}),feedback.call(e,"onSelectAll",a?w.selarrrow:d,a)}),!0===w.autowidth){var Ia=Math.floor($(K).innerWidth());w.width=Ia>0?Ia:"nw"}isNaN(w.width)?isNaN(parseFloat(w.width))||(w.width=parseFloat(w.width)):w.width=Number(w.width),w.widthOrg=w.width,function(){var a,b,c,d,e=0,f=jgrid.cell_width?0:F(w.cellLayout,0),g=0,h=F(w.scrollOffset,0),i=!1,k=0,m=jgrid.isCellClassHidden;l(w.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),w.grouping&&w.autowidth){var a=j(this.name,w.groupingView.groupField);a>=0&&w.groupingView.groupColumnShow.length>a&&(this.hidden=!w.groupingView.groupColumnShow[a])}this.widthOrg=b=F(this.width,0),!1!==this.hidden||m(this.classes)||(e+=b+f,this.fixed?k+=b+f:g++)}),isNaN(w.width)&&(w.width=e+(!1!==w.shrinkToFit||isNaN(w.height)?0:h)),G.width=w.width,w.tblwidth=e,!1===w.shrinkToFit&&!0===w.forceFit&&(w.forceFit=!1),!0===w.shrinkToFit&&g>0&&(c=G.width-f*g-k,isNaN(w.height)||(c-=h,i=!0),e=0,l(w.colModel,function(d){
!1!==this.hidden||m(this.classes)||this.fixed||(b=Math.round(c*this.width/(w.tblwidth-f*g-k)),this.width=b,e+=b,a=d)}),d=0,i?G.width-k-(e+f*g)!==h&&(d=G.width-k-(e+f*g)-h):i||1===Math.abs(G.width-k-(e+f*g))||(d=G.width-k-(e+f*g)),w.colModel[a].width+=d,w.tblwidth=e+d+f*g+k,w.tblwidth>w.width&&(w.colModel[a].width-=w.tblwidth-parseInt(w.width,10),w.tblwidth=w.width))}(),$(K).css("width",G.width+"px").append("<div class='"+u("resizer","ui-jqgrid-resize-mark")+"' id='"+w.rsId+"'>&#160;</div>"),$(w.rs).on("selectstart",function(){return!1}).click(E).dblclick(function(a){var b=$(this).data("idx"),d=$(this).data("pageX"),g=w.colModel[b];if(null==d||null==g)return!1;var h=String(d).split(";"),i=parseFloat(h[0]),j=parseFloat(h[1]);return(2!==h.length||!(Math.abs(i-j)>5||Math.abs(a.pageX-i)>5||Math.abs(a.pageX-j)>5))&&(feedback.call(e,"resizeDblClick",b,g,a)&&g.autoResizable&&c.autoResizeColumn.call(f,b),feedback.call(e,"afterResizeDblClick",{iCol:b,cm:g,cmName:g.name}),!1)}),$(I).css("width",G.width+"px");var Ja="";w.footerrow&&(Ja+="<table role='presentation' style='width:1px' class='"+u("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+u("rowFooter","footrow footrow-"+H)+"'>");var Ka="<tr class='"+u("gridRow","jqgfirstrow ui-row-"+w.direction)+"' role='row' style='height:auto'>";if(w.disableClick=!1,$("th",Ha[0].tHead.rows[0]).each(function(a){var b=w.colModel[a],c=b.name,d=$(this),e=d.children("div"),f=e.children("span.s-ico"),g=w.showOneSortIcon;sa=b.width,void 0===b.resizable&&(b.resizable=!0),b.resizable?(ta=document.createElement("span"),$(ta).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+H).on("selectstart",function(){return!1}),d.addClass(w.resizeclass)):ta="",d.css("width",sa+"px").prepend(ta),ta=null;var h="";if(!0===b.hidden&&(d.css("display","none"),h="display:none;"),Ka+="<td role='gridcell' "+(b.classes?"class='"+b.classes+"' ":"")+"style='height:0;width:"+sa+"px;"+h+"'></td>",G.headers[a]={width:sa,el:this},ua=b.sortable,"boolean"!=typeof ua&&(b.sortable=!0,ua=!0),"cb"!==c&&"subgrid"!==c&&"rn"!==c&&ua&&w.viewsortcols[2]&&e.addClass("ui-jqgrid-sortable"),ua)if(w.multiSort){var i="desc"===b.lso?"asc":"desc";w.viewsortcols[0]?(f.css("display",""),b.lso&&(f.children("span.ui-icon-"+b.lso).removeClass(Fa),g&&f.children("span.ui-icon-"+i).hide())):b.lso&&(f.css("display",""),f.children("span.ui-icon-"+b.lso).removeClass(Fa),g&&f.children("span.ui-icon-"+i).hide())}else{var j="desc"===w.sortorder?"asc":"desc";w.viewsortcols[0]?(f.css("display",""),a===w.lastsort&&(f.children("span.ui-icon-"+w.sortorder).removeClass(Fa),g&&f.children("span.ui-icon-"+j).hide())):a===w.lastsort&&""!==b.lso&&(f.css("display",""),f.children("span.ui-icon-"+w.sortorder).removeClass(Fa),g&&f.children("span.ui-icon-"+j).hide())}w.footerrow&&(Ja+="<td role='gridcell' "+O(a,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(a){var b,c=$(this),d=c.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(a.target).closest("th>span.ui-jqgrid-resize").length)return b=ma(this),null!=b&&(!0===w.forceFit&&(w.nv=la(b)),G.dragStart(b,a,function(){var a=[c.position().left+c.outerWidth()];return"rtl"===w.direction&&(a[0]=w.width-a[0]),a[0]-=d?0:G.bDiv.scrollLeft,a.push($(G.hDiv).position().top),a.push($(G.bDiv).offset().top-$(G.hDiv).offset().top+$(G.bDiv).height()+(G.sDiv?$(G.sDiv).height():0)),a}(),c)),!1}).click(function(a){if(w.disableClick)return w.disableClick=!1,!1;var b,c,d="th.ui-th-column>div";w.viewsortcols[2]?d+=".ui-jqgrid-sortable":d+=">span.s-ico>span.ui-grid-ico-sort";var f=$(a.target).closest(d);if(1===f.length){w.viewsortcols[2]||(b=!0,c=f.hasClass("ui-icon-desc")?"desc":"asc");var g=ma(this);return null!=g&&ka.call(e,$("div",this)[0].id,g,b,c,this),!1}}),w.sortable&&g(c.sortableColumns))try{c.sortableColumns.call(f,$(Ha[0].tHead.rows[0]))}catch(a){}w.footerrow&&(Ja+="</tr></tbody></table>"),Ka+="</tr>",f.html("<tbody>"+Ka+"</tbody>"),f.addClass(u("grid","ui-jqgrid-btable"+(!0===w.altRows&&f.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var La=!(!w.caption||!0!==w.hiddengrid),Ma=$("<div class='ui-jqgrid-hbox"+("rtl"===H?"-rtl":"")+"'></div>"),Na=u("top"),Oa=u("bottom");if(G.hDiv=document.createElement("div"),$(G.hDiv).css({width:G.width+"px"}).addClass(u("hDiv","ui-jqgrid-hdiv")).append(Ma).scroll(function(){var a=$(this).next(".ui-jqgrid-bdiv")[0];return a&&(a.scrollLeft=this.scrollLeft),!1}),$(Ma).append(Ha),Ha=null,La&&$(G.hDiv).hide(),w.rowNum=parseInt(w.rowNum,10),(isNaN(w.rowNum)||w.rowNum<=0)&&(w.rowNum=w.maxRowNum),w.pager){var Pa,Qa;"string"==typeof w.pager&&"#"!==w.pager.substr(0,1)?(Qa=w.pager,Pa=$("#"+jqID(w.pager))):!0===w.pager?(Qa=randId(),Pa=$("<div id='"+Qa+"'></div>"),Pa.appendTo("body"),w.pager="#"+jqID(Qa)):(Pa=$(w.pager),Qa=Pa.attr("id")),Pa.length>0?(Pa.css({width:G.width+"px"}).addClass(u("pager.pager","ui-jqgrid-pager "+Oa)).appendTo(K),La&&Pa.hide(),ha.call(e,Qa,""),w.pager="#"+jqID(Qa)):w.pager=""}!1===w.cellEdit&&!0===w.hoverrows&&f.on("mouseover.jqGrid",function(a){xa=$(a.target).closest("tr.jqgrow"),"ui-subgrid"!==$(xa).attr("class")&&$(xa).addClass(Ea)}).on("mouseout.jqGrid",function(a){xa=$(a.target).closest("tr.jqgrow"),$(xa).removeClass(Ea)});var Ra,Sa,Ta,Ua=function(a){var b,c,d;do{if(b=$(a).closest("td"),b.length>0){if(c=b.parent(),d=c.parent().parent(),c.is(".jqgrow")&&(d[0]===this||d.is("table.ui-jqgrid-btable")&&(d[0].id||"").replace("_frozen","")===this.id))break;a=b.parent()}}while(b.length>0);return b};f.before(G.hDiv).click(function(a){var b=u("states.select"),d=a.target,g=Ua.call(e,d),h=g.parent();if(0!==h.length&&!hasOneFromClasses(h,Fa)){Ra=h[0].id;var i=$(d).hasClass("cbox")&&$(d).is(":enabled")&&!hasOneFromClasses(d,Fa),j=feedback.call(e,"beforeSelectRow",Ra,a),k=jgrid.detectRowEditing.call(e,Ra),l=null!=k&&"cellEditing"!==k.mode;if("A"!==d.tagName&&(!l||i))if(Sa=g[0].cellIndex,Ta=g.html(),feedback.call(e,"onCellSelect",Ra,Sa,Ta,a),!0!==w.cellEdit){if(!j)return void(i&&$(d).prop("checked",!1));if(w.multikey)a[w.multikey]?m.call(f,Ra,!0,a):w.multiselect&&i&&(i=$("#jqg_"+jqID(w.id)+"_"+Ra).is(":checked"),$("#jqg_"+jqID(w.id)+"_"+Ra).prop("checked",!i));else if(w.multiselect&&w.multiboxonly)if(i)m.call(f,Ra,!0,a);else{var n=w.frozenColumns?w.id+"_frozen":"";$(w.selarrrow).each(function(a,d){var e=c.getGridRowById.call(f,d);e&&$(e).removeClass(b),$("#jqg_"+jqID(w.id)+"_"+jqID(d)).prop("checked",!1),n&&($("#"+jqID(d),"#"+jqID(n)).removeClass(b),$("#jqg_"+jqID(w.id)+"_"+jqID(d),"#"+jqID(n)).prop("checked",!1))}),clearArray(w.selarrrow),m.call(f,Ra,!0,a)}else{var o=w.selrow;m.call(f,Ra,!0,a),"toggle"!==w.singleSelectClickMode||w.multiselect||o!==Ra||(e.grid.fbRows&&(h=h.add(e.grid.fbRows[h[0].rowIndex]===h[0]?e.rows[h[0].rowIndex]:e.grid.fbRows[h[0].rowIndex])),h.removeClass(b).attr({"aria-selected":"false",tabindex:"-1"}),w.selrow=null)}}else if(w.multiselect&&i&&j)m.call(f,Ra,!0,a);else{Ra=h[0].rowIndex;try{c.editCell.call(f,Ra,Sa,!0)}catch(a){}}}}).on("reloadGrid",function(a,b){var d=this,e=d.grid,f=$(this);if(!0===w.treeGrid&&(w.datatype=w.treedatatype),b=i({},defaults.reloadGridOptions||{},w.reloadGridOptions||{},b||{}),"local"===w.datatype&&w.dataTypeOrg&&w.loadonce&&b.fromServer&&(w.datatype=w.dataTypeOrg,delete w.dataTypeOrg),b.current&&e.selectionPreserver.call(d),"local"===w.datatype?(w.multiPageSelection||c.resetSelection.call(f),w.data.length&&(V.call(d),W.call(d))):w.treeGrid||w.multiPageSelection||(w.selrow=null,w.multiselect&&(clearArray(w.selarrrow),ga.call(d,!1)),clearArray(w.savedRow),w.editingInfo={}),w.iRow=-1,w.iCol=-1,w.scroll&&G.emptyRows.call(d,!0,!1),b.page){var g=parseInt(b.page,10);g>w.lastpage&&(g=w.lastpage),g<1&&(g=1),w.page=g,e.prevRowHeight?e.bDiv.scrollTop=(g-1)*e.prevRowHeight*w.rowNum:e.bDiv.scrollTop=0}return e.prevRowHeight&&w.scroll&&void 0===b.page?(delete w.lastpage,e.populateVisible.call(d)):e.populate.call(d),!0===w._inlinenav&&f.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(a){var b=Ua.call(e,a.target),c=b.parent();if(b.length>0&&!feedback.call(e,"ondblClickRow",c.attr("id"),c[0].rowIndex,b[0].cellIndex,a))return!1}).on("contextmenu",function(a){var b=Ua.call(e,a.target),c=b.parent(),d=c.attr("id");if(0!==b.length)return w.multiselect||m.call(f,d,!0,a),!!feedback.call(e,"onRightClickRow",d,c[0].rowIndex,b[0].cellIndex,a)&&void 0}),G.bDiv=document.createElement("div"),J&&"auto"===String(w.height).toLowerCase()&&(w.height="100%"),$(G.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(e)).addClass("ui-jqgrid-bdiv").css({height:w.height+(isNaN(w.height)?"":"px"),width:G.width+"px"}).scroll(G.scrollGrid),w.maxHeight&&$(G.bDiv).css("max-height",w.maxHeight+(isNaN(w.maxHeight)?"":"px")),f.css({width:"1px"}),$.support.tbody||2===$(">tbody",e).length&&$(">tbody:gt(0)",e).remove(),w.multikey&&$(G.bDiv).on(jgrid.msie?"selectstart":"mousedown",function(){return!1}),La&&$(G.bDiv).hide(),G.cDiv=document.createElement("div");var Va=t("gridMinimize.visible"),Wa=t("gridMinimize.hidden"),Xa=y("showhide"),Ya=!0===w.hidegrid?$("<a role='link' class='"+u("titleButton","ui-jqgrid-titlebar-close")+"'"+(Xa?" title='"+Xa+"'":"")+"/>").hover(function(){Ya.addClass(Ea)},function(){Ya.removeClass(Ea)}).append("<span class='"+Va+"'></span>"):"";if($(G.cDiv).append("<span class='ui-jqgrid-title'>"+w.caption+"</span>").append(Ya).addClass(u("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===H?"-rtl ":" ")+Na)),$(G.cDiv).insertBefore(G.hDiv),w.toolbar[0]){G.uDiv=document.createElement("div"),"top"===w.toolbar[1]?$(G.uDiv).insertBefore(G.hDiv):"bottom"===w.toolbar[1]&&$(G.uDiv).insertAfter(G.hDiv);var Za=u("toolbarUpper","ui-userdata");"both"===w.toolbar[1]?(G.ubDiv=document.createElement("div"),$(G.uDiv).addClass(Za).attr("id","t_"+w.id).insertBefore(G.hDiv),$(G.ubDiv).addClass(u("toolbarBottom","ui-userdata")).attr("id","tb_"+w.id).insertAfter(G.hDiv),La&&$(G.ubDiv).hide()):$(G.uDiv).width(G.width).addClass(Za).attr("id","t_"+w.id),La&&$(G.uDiv).hide()}if("string"==typeof w.datatype&&(w.datatype=w.datatype.toLowerCase()),w.toppager?(w.toppager=w.id+"_toppager",G.topDiv=$("<div id='"+w.toppager+"'></div>")[0],$(G.topDiv).addClass(u("pager.pager","ui-jqgrid-toppager"+(w.caption?"":" "+Na))).css({width:G.width+"px"}).insertBefore(G.hDiv),ha.call(e,w.toppager,"_t"),w.toppager="#"+jqID(w.toppager)):""!==w.pager||w.scroll||(w.rowNum=w.maxRowNum),w.footerrow&&(G.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],Ma=$("<div class='ui-jqgrid-hbox"+("rtl"===H?"-rtl":"")+"'></div>"),$(G.sDiv).append(Ma).width(G.width).insertAfter(G.hDiv),$(Ma).append(Ja),G.footers=$(".ui-jqgrid-ftable",G.sDiv)[0].rows[0].cells,w.rownumbers&&(G.footers[0].className=u("rowNum","jqgrid-rownum")),La&&$(G.sDiv).hide()),Ma=null,w.caption){var $a=w.datatype;!0===w.hidegrid&&($(".ui-jqgrid-titlebar-close",G.cDiv).click(function(a){var b=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",c=this;!0===w.toolbar[0]&&("both"===w.toolbar[1]&&(b+=",#"+jqID($(G.ubDiv).attr("id"))),b+=",#"+jqID($(G.uDiv).attr("id")));var d=$(b,w.gView).length;return w.toppager&&(b+=","+w.toppager),"visible"===w.gridstate?$(b,w.gBox).slideUp("fast",function(){0===--d&&($("span",c).removeClass(Va).addClass(Wa),w.gridstate="hidden",$(w.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",w.gBox).hide(),$(G.cDiv).addClass(Oa),La||feedback.call(e,"onHeaderClick",w.gridstate,a))}):"hidden"===w.gridstate&&($(G.cDiv).removeClass(Oa),$(b,w.gBox).slideDown("fast",function(){0===--d&&($("span",c).removeClass(Wa).addClass(Va),La&&(w.datatype=$a,fa.call(e),La=!1),w.gridstate="visible",$(w.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",w.gBox).show(),La||feedback.call(e,"onHeaderClick",w.gridstate,a))})),!1}),La&&(w.datatype="local",$(".ui-jqgrid-titlebar-close",G.cDiv).trigger("click")))}else $(G.cDiv).hide(),$(G.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(G.hDiv).after(G.bDiv),G.eDiv=$("<div class='"+u("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+H)+"' style='display:none;'><span class='"+u("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(G.hDiv).after(G.eDiv),$(K).click(E).dblclick(function(a){var b=$(w.rs),d=b.offset(),g=b.data("idx"),h=b.data("delta"),i=w.colModel[g],j=$(this).data("pageX")||b.data("pageX");if(null==j||null==i)return!1;var k=String(j).split(";"),l=parseFloat(k[0]),m=parseFloat(k[1]);return(2!==k.length||!(Math.abs(l-m)>5||Math.abs(a.pageX-l)>5||Math.abs(a.pageX-m)>5))&&(feedback.call(e,"resizeDblClick",g,i)&&d.left-1<=a.pageX+h&&a.pageX+h<=d.left+b.outerWidth()+1&&i.autoResizable&&c.autoResizeColumn.call(f,g),feedback.call(e,"afterResizeDblClick",{iCol:g,cm:i,cmName:i.name}),!1)}),w.pager||$(G.cDiv).nextAll("div:visible").filter(":last").addClass(Oa),$(".ui-jqgrid-labels",G.hDiv).on("selectstart",function(){return!1}),e.formatCol=O,e.sortData=ka,e.updatepager=ca,e.refreshIndex=W,e.addItemDataToColumnIndex=T,e.removeItemDataFromColumnIndex=U,e.generateValueFromColumnIndex=function(a,b,c){var d,e,f=$(this).jqGrid("getUniqueValueFromColumnIndex",a),g="";if(null!=f)for(c=c||";",b=b||":",g="",d=0,e=f.length;d<e;d++)""!==g&&(g+=c||";"),g+=f[d]+(b||":")+f[d];return g},e.setHeadCheckBox=ga,e.fixScrollOffsetAndhBoxPadding=z,e.constructTr=X,e.formatter=R,i(G,{populate:fa,emptyRows:S,beginReq:da,endReq:ea}),e.addXmlData=_,e.addJSONData=_,e.rebuildRowIndexes=D,e.grid.cols=e.rows[0].cells,feedback.call(e,"onInitGrid"),w.treeGrid&&"local"===w.datatype&&null!=w.data&&w.data.length>0&&(w.datatype="jsonstring",w.datastr=w.data,w.data=[]),fa.call(e),w.hiddengrid=!1}})};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(a){var b=this[0];if(!b||!b.grid||!b.p)return null;var c=jgrid.getRes(locales[b.p.locale],a)||jgrid.getRes(locales["en-US"],a),d=jgrid.getRes(jgrid,a);return"object"!=typeof c||null===c||$.isArray(c)?void 0!==d?d:c:$.extend(!0,{},c,d||{})},getGuiStyles:function(a,b){var c=this instanceof $&&this.length>0?this[0]:this;if(!c||!c.grid||!c.p)return"";var d,e=c.p,f=e.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",g=jgrid.getRes(jgrid.guiStyles[f],a);return void 0===g&&"string"==typeof(d=jgrid.getRes(jgrid.guiStyles[f],"baseGuiStyle"))&&(g=jgrid.getRes(jgrid.guiStyles[d],a)),jgrid.mergeCssClasses(g||"",b||"")},isBootstrapGuiStyle:function(){return $.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))>=0},displayErrorMessage:function(a){var b=this instanceof $&&this.length>0?this[0]:this;if(b&&b.grid&&b.p&&a){var c=$(b.grid.eDiv),d=c.children(".ui-jqgrid-error");d.html(a),c.show(),b.p.errorDisplayTimeout&&setTimeout(function(){d.empty(),c.hide()},b.p.errorDisplayTimeout)}},getIconRes:function(a){var b=this instanceof $&&this.length>0?this[0]:this;if(!b||!b.p)return"";var c=b.p,d=jgrid.icons[c.iconSet],e=function(a,b){var c,d,e,f=b.split("."),g=f.length,h=[];if(null==(a="string"==typeof a?jgrid.icons[a]:a))return"";for(c=a,c.common&&h.push(c.common),e=0;e<g&&(d=f[e]);e++){if(void 0===(c=c[d])){if("common"===d)break;return""}if("string"==typeof c){h.push(c);break}null!=c&&c.common&&h.push(c.common)}return jgrid.mergeCssClasses.apply(this,h)};if(null==d)return"";var f=e(c.iconSet,a);return""===f&&null!=d.baseIconSet&&(f=e(d.baseIconSet,a)),f||""},isInCommonIconClass:function(a){var b=this instanceof $&&this.length>0?this[0]:this;if(!b||!b.p)return"";var c=b.p,d=jgrid.icons[c.iconSet];if(null==d)return!1;var e=d.common;if(void 0===e){if(null==d.baseIconSet)return!1;if(null==(d=jgrid.icons[d.baseIconSet]))return!1;e=d.common}return"string"==typeof e&&$.inArray(a,e.split(" "))>=0},getUniqueValueFromColumnIndex:function(a){var b=this[0];if(!b||!b.grid)return null;var c,d=[],e="",f=b.p.indexByColumnData[a];if(null!=f){for(e in f)if(f.hasOwnProperty(e)){for(c in f[e])if(f[e].hasOwnProperty(c)){e=String(f[e][c]);break}d.push(e)}b.p.ignoreCase?void 0===String.prototype.localeCompare?d.sort(function(a,b){var c=a.toLowerCase(),d=b.toLowerCase();return c===d?0:c>d?1:-1}):d.sort(function(a,b){return String(a).toLowerCase().localeCompare(String(b).toLowerCase())}):d.sort()}return d},getGridParam:function(a){var b=this[0];return b&&b.grid?a?void 0!==b.p[a]?b.p[a]:null:b.p:null},setGridParam:function(a,b){return this.each(function(){var c=this;if(null==b&&(b=!1),c.grid&&"object"==typeof a)if(!0===b){var d=$.extend({},c.p,a);c.p=d}else $.extend(!0,c.p,a)})},abortAjaxRequest:function(){return this.each(function(){var a=this;null!=a.p.jqXhr&&a.p.jqXhr.abort(),a.grid.endReq.call(a)})},getGridRowById:function(a){if(null==a)return null;var b,c=a.toString();return this.each(function(){var d,e,f,g=this.rows;if(null!=this.p.rowIndexes&&(f=this.p.rowIndexes[c],(e=g[f])&&e.id===c&&(b=e)),!b)try{for(d=g.length;d--;)if(e=g[d],c===e.id){b=e;break}}catch(c){b=$(this.grid.bDiv).find("#"+jqID(a)),b=b.length>0?b[0]:null}}),b},getDataIDs:function(){var a=[];return this.each(function(){var b,c,d=this.rows,e=d.length;if(e&&e>0)for(b=0;b<e;b++)c=d[b],$(c).hasClass("jqgrow")&&a.push(c.id)}),a},setSelection:function(a,b,c){return this.each(function(){var d,e,f,g,h,i,j,k=this,l=$(k),m=k.p,n=base.getGuiStyles,o=base.getGridRowById,p=n.call(l,"states.select"),q=n.call(l,"states.disabled"),r=k.grid.fbRows,s=function(a,b){var c=b?"addClass":"removeClass",d=m.iColByName.cb,e=b?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},f=function(a){$(a)[c](p).attr(e),void 0!==d&&$(a.cells[d]).children("input.cbox").prop("checked",b)};f(a),r&&f(r[a.rowIndex])};void 0!==a&&(b=!1!==b,null!=c&&(j=$(c.target).closest("tr.jqgrow"),j.length>0&&(e=j[0],r&&(e=k.rows[e.rowIndex]))),null==e&&(e=o.call(l,a)),!e||!e.className||e.className.indexOf(q)>-1||(!0===m.scrollrows&&null!=(f=o.call(l,a))&&(f=f.rowIndex)>=0&&function(a,b){var c=b.clientHeight,d=b.scrollTop,e=$(a).position().top,f=a.clientHeight;e+f>=c+d?b.scrollTop=e-(c+d)+f+d:e<c+d&&e<d&&(b.scrollTop=e)}(k.rows[f],k.grid.bDiv),m.multiselect?(k.setHeadCheckBox(!1),m.selrow=e.id,g=$.inArray(m.selrow,m.selarrrow),-1===g?(d=!0,m.selarrrow.push(m.selrow)):null!==jgrid.detectRowEditing.call(k,e.id)?d=!0:(d=!1,m.selarrrow.splice(g,1),h=m.selarrrow[0],m.selrow=void 0===h?null:h),"ui-subgrid"!==e.className&&s(e,d),b&&feedback.call(k,"onSelectRow",e.id,d,c||{})):"ui-subgrid"!==e.className&&(m.selrow!==e.id?(null!==m.selrow&&(i=o.call(l,m.selrow))&&s(i,!1),s(e,!0),d=!0):d=!1,m.selrow=e.id,b&&feedback.call(k,"onSelectRow",e.id,d,c||{}))))})},resetSelection:function(a){return this.each(function(){var b,c=this,d=$(this),e=c.p,f=base.getGuiStyles,g=base.getGridRowById,h=f.call(d,"states.select"),i="edit-cell "+h,j="selected-row "+f.call(d,"states.hover"),k=e.iColByName.cb,l=void 0!==k,m=c.grid.fbRows,n=function(a){var b,c={"aria-selected":"false",tabindex:"-1"};$(a).removeClass(h).attr(c),l&&$(a.cells[k]).children("input.cbox").prop("checked",!1),m&&(b=m[a.rowIndex],$(b).removeClass(h).attr(c),l&&$(b.cells[k]).children("input.cbox").prop("checked",!1))};if(void 0!==a){if(b=g.call(d,a),n(b),l){c.setHeadCheckBox(!1);var o=$.inArray(a,e.selarrrow);-1!==o&&e.selarrrow.splice(o,1)}}else e.multiselect?($(c.rows).each(function(){var a=$.inArray(this.id,e.selarrrow);-1!==a&&(n(this),e.selarrrow.splice(a,1))}),c.setHeadCheckBox(!1),e.multiPageSelection||clearArray(e.selarrrow),e.selrow=null):e.selrow&&(b=g.call(d,e.selrow),n(b),e.selrow=null);!0===e.cellEdit&&parseInt(e.iCol,10)>=0&&parseInt(e.iRow,10)>=0&&(b=c.rows[e.iRow],null!=b&&($(b.cells[e.iCol]).removeClass(i),$(b).removeClass(j)),m&&null!=(b=m[e.iRow])&&($(b.cells[e.iCol]).removeClass(i),$(b).removeClass(j))),clearArray(e.savedRow),e.editingInfo={}})},isCellEditing:function(a,b,c){var d=this[0],e=jgrid.detectRowEditing.call(d,a);if(null!=e&&("inlineEditing"===e.mode||"cellEditing"===e.mode&&e.savedRow.ic===b)){b=isNaN(b)?d.p.iColByName[b]:parseInt(b,10);var f=null!=c&&c.id===a?c:base.getGridRowById.call($(d),a),g=d.p.colModel[b],h=g.editable;if($.isFunction(h)&&(h=h.call(d,{rowid:a,id:stripPref(d.p.idPrefix,a),iCol:b,iRow:f.rowIndex,cmName:g.name,cm:g,mode:e.mode,td:f.cells[b],tr:f,dataElement:jgrid.getDataFieldOfCell.call(d,f,b)[0]})),!0===h)return!0}return!1},getRowData:function(a,b){var c,d={};return"object"==typeof a&&(b=a,a=void 0),b=b||{},this.each(function(){var e,f,g,h,i,j,k,l=this,m=l.p,n=!1,o=1,p=l.rows;if(void 0===a)n=!0,c=[],o=p.length;else if(!(e=base.getGridRowById.call($(l),a)))return d;for(f=0;f<o;f++)if(n&&(e=p[f]),$(e).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(l,a),h=$(e).find("td[role=gridcell]"),g=0;g<h.length;g++)if(i=m.colModel[g],j=i.name,$.inArray(j,m.reservedColumnNames)<0&&"actions"!==i.formatter&&(!b.skipHidden||!i.hidden))if(k=h[g],base.isCellEditing.call($(l),a,g,e))d[j]=jgrid.getEditedValue.call(l,jgrid.getDataFieldOfCell.call(l,e,g),i,{},i.editable);else if(!0===m.treeGrid&&j===m.ExpandColumn)d[j]=htmlDecode($("span",k).first().html());else try{d[j]=$.unformat.call(l,k,{rowId:a,colModel:i},g)}catch(a){d[j]=htmlDecode($(k).html())}!b.includeId||!1!==m.keyName&&null!=d[m.keyName]||(d[m.prmNames.id]=stripPref(m.idPrefix,e.id)),n&&(c.push(d),d={})}}),c||d},delRowData:function(a){var b,c,d,e=!1;return this.each(function(){var f=this,g=f.p;if(!(b=base.getGridRowById.call($(f),a)))return!1;if(g.subGrid&&(d=$(b).next(),d.hasClass("ui-subgrid")&&d.remove()),$(b).remove(),g.records--,g.reccount--,f.updatepager(!0,!1),e=!0,g.multiselect&&-1!==(c=$.inArray(a,g.selarrrow))&&g.selarrrow.splice(c,1),g.multiselect&&g.selarrrow.length>0?g.selrow=g.selarrrow[g.selarrrow.length-1]:g.selrow===a&&(g.selrow=null),"local"===g.datatype){var h=stripPref(g.idPrefix,a),i=g._index[h];void 0!==i&&(f.removeItemDataFromColumnIndex(h),g.data.splice(i,1),f.refreshIndex())}if(f.rebuildRowIndexes(),!0===g.altRows&&e&&!$(f).jqGrid("isBootstrapGuiStyle")){var j=g.altclass,k=f.grid.fbRows;$(f.rows).each(function(a){var b=$(this);k&&(b=b.add(k[this.rowIndex])),b[a%2==0?"addClass":"removeClass"](j)})}feedback.call(f,"afterDelRow",a)}),e},setRowData:function(a,b,c){var d=!0;return this.each(function(){var e,f=this,g=f.p,h=typeof c,i={};if(!f.grid)return!1;if(!(e=base.getGridRowById.call($(f),a)))return!1;if(b)try{var j,k=stripPref(g.idPrefix,a),l=g._index[k],m={},n=null!=l?g.data[l]:void 0;if($(g.colModel).each(function(a){var c=this,d=c.name,e=getAccessor(b,d);void 0!==e&&("local"===g.datatype&&null!=n&&(e=convertOnSaveLocally.call(f,e,c,n[d],k,n,a),$.isFunction(c.saveLocally)?c.saveLocally.call(f,{newValue:e,newItem:i,oldItem:n,id:k,cm:c,cmName:d,iCol:a}):i[d]=e),m[d]=e)}),$(g.colModel).each(function(c){var d,h=this,j=h.name,k=getAccessor(b,j),l=$(e.cells[c]);if(void 0!==k){"local"===g.datatype&&null!=n&&(k=i[j]),d=h.title?{title:k}:{},k=f.formatter(a,k,c,b,"edit",m);var o=l;!0===g.treeGrid&&j===g.ExpandColumn&&(o=o.children("span.cell-wrapperleaf,span.cell-wrapper").first()),o.html(k),l.attr(d),g.frozenColumns&&(o=$(f.grid.fbRows[e.rowIndex].cells[c]),!0===g.treeGrid&&j===g.ExpandColumn&&(o=o.children("span.cell-wrapperleaf,span.cell-wrapper").first()),o.html(k).attr(d))}}),"local"===g.datatype){if(g.treeGrid)for(j in g.treeReader)g.treeReader.hasOwnProperty(j)&&delete i[g.treeReader[j]];void 0!==n&&(g.data[l]=$.extend(!0,n,i),f.removeItemDataFromColumnIndex(k),f.addItemDataToColumnIndex(g.data[l],k))}feedback.call(f,"afterSetRow",{rowid:a,inputData:b,iData:l,iRow:e.rowIndex,tr:e,localData:i,cssProp:c})}catch(a){d=!1}d&&("string"===h?$(e).addClass(c):null!==c&&"object"===h&&$(e).css(c))}),d},changeRowid:function(a,b){return this.each(function(){var c,d,e,f,g,h,i,j=this,k=$(j),l=j.p;if(j.grid&&l&&a!==b&&(f=k.jqGrid("getGridRowById",a))&&null==k.jqGrid("getGridRowById",b)){var m=jgrid.stripPref(l.idPrefix,a),n=jgrid.stripPref(l.idPrefix,b),o=!1===l.keyName?l.prmNames.id:l.keyName,p=function(){var a=this.id,b=a.length-m.length;b>0&&a.substr(b)===m&&$(this).attr("id",a.substr(0,b)+n)};for(l.iColByName[o]>=0?k.jqGrid("setCell",a,o,n):"local"===l.datatype&&void 0!==l._index[m]&&(l._index[n]=l._index[m],c=l.data[l._index[m]],delete l._index[m],c.hasOwnProperty(o)&&(c[o]=n)),l.rowIndexes[b]=f.rowIndex,delete l.rowIndexes[a],g=null==j.grid.fbRows?$(f):$(f).add(j.grid.fbRows[f.rowIndex]),g.attr("id",b),l.selrow===a&&(l.selrow=b),$.isArray(l.selarrrow)&&(d=$.inArray(a,l.selarrrow))>=0&&(l.selarrrow[d]=b),l.multiselect&&(e="jqg_"+l.id+"_"+b,g.find("input.cbox").attr("id",e).attr("name",e)),d=0;d<l.colModel.length;d++)h=l.colModel[d],"actions"===h.formatter?g.find(".ui-jqgrid-actions .ui-pg-div").each(p):("showlink"===h.formatter||null!=h.unformat&&null!=h.formatter)&&(i=k.jqGrid("getCell",b,d),k.jqGrid("setCell",b,d,i,!1,!1,!0));feedback.call(j,"afterChangeRowid",{rowid:b,oldRowid:a,iRow:f.rowIndex,tr:f})}})},addRowData:function(a,b,c,d){$.inArray(c,["first","last","before","after","afterSelected","beforeSelected"])<0&&(c="last");var e,f,g,h,i,j,k,l,m,n,o,p=!1;return b&&($.isArray(b)?(j=!0,k=a):(b=[b],j=!1),this.each(function(){var q,r,s=this,t=s.p,u=b.length,v=$(s),w=s.rows,x=0,y=base.getGridRowById,z=t.colModel,A=t.additionalProperties;for(j||(void 0!==a?a=String(a):(a=randId(),!1!==t.keyName&&(k=t.keyName,void 0!==b[0][k]&&(a=b[0][k])))),l=t.altclass;x<u;){if(m=b[x],f=[],j)try{a=m[k],void 0===a&&(a=randId())}catch(b){a=randId()}for(o=jgrid.stripPref(t.idPrefix,a),q={},h=0;h<z.length;h++)n=z[h],"rn"!==(e=n.name)&&"cb"!==e&&"subgrid"!==e&&(i=convertOnSaveLocally.call(s,m[e],n,void 0,o,{},h),$.isFunction(n.saveLocally)?n.saveLocally.call(s,{newValue:i,newItem:q,oldItem:{},id:o,rowid:a,cm:n,cmName:e,iCol:h}):void 0!==i&&(q[e]=i));for(h=0;h<A.length;h++)e=A[h],"object"==typeof e&&e.hasOwnProperty("name")&&(e=e.name),void 0!==(i=getAccessor(m,e))&&(q[e]=i);if("local"===t.datatype&&(q[t.localReader.id]=o,t._index[o]=t.data.length,t.data.push(q),s.addItemDataToColumnIndex(q,o)),r=t.grouping,t.grouping=!1,f=jgrid.parseDataToHtml.call(s,1,[a],[m]),t.grouping=r,f=f.join(""),0===w.length)$(s.tBodies[0]).append(f);else switch("afterSelected"!==c&&"beforeSelected"!==c||(void 0===d&&null!==t.selrow?(d=t.selrow,c="afterSelected"===c?"after":"before"):c="afterSelected"===c?"last":"first"),c){case"last":$(w[w.length-1]).after(f),g=w.length-1;break;case"first":$(w[0]).after(f),g=1;break;case"after":g=y.call(v,d),g&&($(w[g.rowIndex+1]).hasClass("ui-subgrid")?($(w[g.rowIndex+1]).after(f),g=g.rowIndex+2):($(g).after(f),g=g.rowIndex+1));break;case"before":g=y.call(v,d),g&&($(g).before(f),g=g.rowIndex-1)}!0===t.subGrid&&base.addSubGrid.call(v,t.iColByName.subgrid,g),t.records++,t.reccount++,0===t.lastpage&&(t.lastpage=1),feedback.call(s,"afterAddRow",{rowid:a,inputData:b,position:c,srcRowid:d,iRow:g,localData:q,iData:t.data.length-1}),x++}!0!==t.altRows||j||v.jqGrid("isBootstrapGuiStyle")||("last"===c?(w.length-1)%2==0&&$(w[w.length-1]).addClass(l):$(w).each(function(a){a%2==1?$(this).addClass(l):$(this).removeClass(l)})),s.rebuildRowIndexes(),s.updatepager(!0,!0),p=!0})),p},footerData:function(a,b,c){function d(a){var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}var e=!1,f={};return null==a&&(a="get"),"boolean"!=typeof c&&(c=!0),a=a.toLowerCase(),this.each(function(){var g,h,i,j,k=this,l=k.p;if(!k.grid||!l.footerrow)return!1;if("set"===a&&d(b))return!1;e=!0;var m=$(k.grid.sDiv).children(".ui-jqgrid-hbox").children(".ui-jqgrid-ftable")[0];if(null==m||null==m.rows)return!1;var n=m.rows[0].cells,o=l.colModel,p=null==k.grid.fsDiv?{}:k.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===a)for(j=0;j<o.length;j++)i=o[j].name,$.inArray(i,l.reservedColumnNames)<0&&(!1!==b?(g=$(n[j]).text(),$.trim(g)&&(f[i]=g)):f[i]=$(n[j]).html());else if("set"===a)for(i in b)j=l.iColByName[i],b.hasOwnProperty(i)&&void 0!==j&&(g=c?k.formatter("",b[i],j,b,"edit"):b[i],h=$(n[j]).add(p[j]),h.html(g),o[j].title&&h.attr({title:stripHtml(g)}))}),"get"===a?f:e},showHideCol:function(a,b,c){return this.each(function(){var d,e=this,f=$(e),g=e.grid,h=!1,i=e.p,j=jgrid.cell_width?0:i.cellLayout;if(g){"string"==typeof a&&(a=[a]),b="none"!==b&&!1!==b?"":"none",c=c||{};var k=""===b,l=i.groupHeader,m=l&&("object"==typeof l||$.isFunction(l));if(m&&!c.skipSetGroupHeaders&&base.destroyGroupHeader.call(f,!1),$(i.colModel).each(function(f){var l=function(a){var c,d,e,g;for(c=0,d=a.length;c<d;c++)e=a[c],g=e.cells[f],(!$(e).hasClass("jqgroup")||null!=g&&1===g.colSpan)&&(0===c&&$(e).hasClass("jqgfirstrow")?($(g).css("height","1px"),$(g).css("display",b),$(g).css("height","0")):$(g).css("display",b))};if(-1!==$.inArray(this.name,a)&&this.hidden===k){if(!0===i.frozenColumns&&!0===this.frozen&&!c.notSkipFrozen)return!0;l($(g.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===i.frozenColumns&&null!=g.fhDiv&&l($(g.fhDiv).find(".ui-jqgrid-htable>thead>tr")),l(e.rows),!0===i.frozenColumns&&null!=g.fbRows&&l(e.rows),i.footerrow&&(l($(g.sDiv).find("tr.footrow")),!0===i.frozenColumns&&null!=g.fsDiv&&l($(g.fsDiv).find("tr.footrow"))),d=parseInt(this.width,10),"none"===b?i.tblwidth-=d+j:i.tblwidth+=d+j,this.hidden=!k,h=!0,c.skipFeedback?(c.toReport=c.toReport||{},c.toReport[this.name]=k):feedback.call(e,"onShowHideCol",k,this.name,f,c)}}),!0===h){var n=i.autowidth||void 0!==i.widthOrg&&"auto"!==i.widthOrg&&"100%"!==i.widthOrg?i.width:i.tblwidth+parseInt(i.scrollOffset,10);c.skipSetGridWidth?c.newGridWidth=n:base.setGridWidth.call(f,n)}if(m&&!c.skipSetGroupHeaders)if(null!=i.pivotOptions&&null!=i.pivotOptions.colHeaders&&i.pivotOptions.colHeaders.length>1){var o,p=i.pivotOptions.colHeaders;for(o=0;o<p.length;o++)p[o]&&p[o].groupHeaders.length&&base.setGroupHeaders.call(f,p[o])}else base.setGroupHeaders.call(f,i.groupHeader)}})},hideCol:function(a,b){return this.each(function(){base.showHideCol.call($(this),a,"none",b)})},showCol:function(a,b){return this.each(function(){base.showHideCol.call($(this),a,"",b)})},remapColumns:function(a,b,c){function d(a){var b=a.length?m(a):$.extend({},a);$.each(i,function(c){a[c]=b[this]})}function e(a,b){(b?a.children(b):a.children()).each(function(){var a=this,b=m(a.cells);$.each(i,function(c){var d=b[this],e=a.cells[c];null!=d&&null!=e&&d.cellIndex!==c&&d.parentNode.insertBefore(d,e)})})}var f,g,h,i,j=this[0],k=j.p,l=j.grid,m=$.makeArray,n=!0===k.frozenColumns,o=this.jqGrid("getNumberOfFrozenColumns");if(null!=l&&null!=k){for(i=function(){var b,c=[],d=[],e=a.length;for(b=0;b<e;b++)n&&a[b]<o?c.push(a[b]):d.push(a[b]);return c.concat(d)}(),d(k.colModel),d(k.colNames),d(l.headers),h=$(l.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),n&&null!=l.fhDiv&&(h=h.add(l.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),e(h,c&&":not(.ui-jqgrid-labels)"),b&&(h=$(j.tBodies[0]),n&&null!=l.fbDiv&&(h=h.add(l.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),e(h,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),k.footerrow&&(h=$(l.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),n&&null!=l.fsDiv&&(h=h.add(l.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),e(h)),k.remapColumns&&(k.remapColumns.length?d(k.remapColumns):k.remapColumns=m(i)),k.lastsort=$.inArray(k.lastsort,i),k.iColByName={},f=0,g=k.colModel.length;f<g;f++)k.iColByName[k.colModel[f].name]=f;feedback.call(j,"onRemapColumns",i,b,c)}},remapColumnsByName:function(a,b,c){var d,e,f=this[0],g=f.p,h=[],i=a.slice(),j=$.inArray;for(g.subGrid&&j("subgrid",i)<0&&i.unshift("subgrid"),g.multiselect&&j("cb",i)<0&&i.unshift("cb"),g.rownumbers&&j("rn",i)<0&&i.unshift("rn"),d=0,e=i.length;d<e;d++)h.push(g.iColByName[i[d]]);return base.remapColumns.call(this,h,b,c),this},setGridWidth:function(a,b){return this.each(function(){var c,d,e,f,g=this,h=g.p,i=g.grid,j=0,k=0,l=!1,m=0,n=jgrid.isCellClassHidden,o=a;if(i&&null!=h){g.fixScrollOffsetAndhBoxPadding();var p,q,r,s,t,u=h.colModel,v=h.scrollOffset,w=jgrid.cell_width?0:h.cellLayout,x=i.headers,y=i.footers,z=i.bDiv,A=i.hDiv,B=i.sDiv,C=i.cols,D=$(A).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,E=function(a){i.width=h.width=a,$(h.gBox).css("width",a+"px"),$(h.gView).css("width",a+"px"),$(z).css("width",a+"px"),$(A).css("width",a+"px"),h.pager&&$(h.pager).css("width",a+"px"),h.toppager&&$(h.toppager).css("width",a+"px"),
!0===h.toolbar[0]&&($(i.uDiv).css("width",a+"px"),"both"===h.toolbar[1]&&$(i.ubDiv).css("width",a+"px")),h.footerrow&&$(B).css("width",a+"px")};if("boolean"!=typeof b&&(b=h.shrinkToFit),!isNaN(o)){if(o=parseInt(o,10),E(o),!1===b&&!0===h.forceFit&&(h.forceFit=!1),!0===b){if($.each(u,function(){!1!==this.hidden||n(this.classes)||(c=this.widthOrg,j+=c+w,this.fixed?m+=this.width+w:k++)}),0===k)return;if(h.tblwidth=parseInt(j,10),e=o-w*k-m,isNaN(h.height)||(z.clientHeight<z.scrollHeight||1===g.rows.length)&&(l=!0,e-=v),(t=e/(h.tblwidth-w*k-m))<0)return;if(j=0,s=C.length>0,$.each(u,function(a){!1!==this.hidden||n(this.classes)||this.fixed||(c=Math.round(this.widthOrg*t),this.width=c,j+=c,x[a].width=c,D[a].style.width=c+"px",h.footerrow&&(y[a].style.width=c+"px"),s&&(C[a].style.width=c+"px"),d=a)}),!d)return;f=0,l?o-m-(j+w*k)!==v&&(f=o-m-(j+w*k)-v):1!==Math.abs(o-m-(j+w*k))&&(f=o-m-(j+w*k)),p=u[d],p.width+=f,h.tblwidth=parseInt(j+f+w*k+m,10),h.tblwidth>o&&(r=h.tblwidth-parseInt(o,10),h.tblwidth=o,p.width=p.width-r),c=p.width,q=x[d],q.width=c,D[d].style.width=c+"px",s&&(C[d].style.width=c+"px"),h.footerrow&&(y[d].style.width=c+"px"),h.tblwidth+(l?v:0)<h.width&&E(h.tblwidth+(l?v:0)),z.offsetWidth>z.clientWidth&&(h.autowidth||void 0!==h.widthOrg&&"auto"!==h.widthOrg&&"100%"!==h.widthOrg||E(z.offsetWidth))}h.tblwidth&&(h.tblwidth=parseInt(h.tblwidth,10),o=h.tblwidth,A.scrollLeft=z.scrollLeft,r=Math.abs(o-h.width),h.shrinkToFit&&!b&&r<3&&r>0&&(o<h.width&&E(o),z.offsetWidth>z.clientWidth&&(h.autowidth||void 0!==h.widthOrg&&"auto"!==h.widthOrg&&"100%"!==h.widthOrg||E(z.offsetWidth)))),g.fixScrollOffsetAndhBoxPadding();var F={resizeDiv:!0,resizedRows:{iRowStart:b?0:-1,iRowEnd:-1}};$(g).triggerHandler("jqGridResetFrozenHeights",[{header:F,resizeFooter:!0,body:F}])}}})},setGridHeight:function(a){return this.each(function(){var b=this,c=b.grid,d=b.p;if(c){var e=$(c.bDiv);e.css({height:a+(isNaN(a)?"":"px")}),!0===d.frozenColumns&&$(d.idSel+"_frozen").parent().height(e.height()-16),d.height=a,d.scroll&&c.populateVisible.call(b),b.fixScrollOffsetAndhBoxPadding(),$(b).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(a){return this.each(function(){var b=this,c=b.grid.cDiv;b.p.caption=a,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",c).html(a),$(c).show(),$(c).nextAll("div").removeClass(base.getGuiStyles.call(b,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(a,b,c,d){return this.each(function(){var e,f,g=this,h=g.p;if(g.grid){if(isNaN(a)){if(void 0===(e=h.iColByName[a]))return}else e=parseInt(a,10);e>=0&&(f=$(g.grid.headers[e].el),h.frozenColumns&&(f=f.add(g.grid.fhDiv.find(".ui-jqgrid-htable tr.ui-jqgrid-labels th.ui-th-column").eq(e))),b&&(f.each(function(){var a=$("[id^=jqgh_]",this),c=a.children("span.ui-jqgrid-cell-wrapper");if(c.length>0)c.html(b);else{var d=$(".s-ico",this);a.empty().html(b)[h.sortIconsBeforeText?"prepend":"append"](d)}}),h.colNames[e]=b),c&&("string"==typeof c?f.addClass(c):f.css(c)),"object"==typeof d&&f.attr(d))}})},setCell:function(a,b,c,d,e,f){return this.each(function(){var g,h,i,j,k,l,m,n,o,p,q=this,r=q.p,s=-1,t=r.colModel,u={};if(q.grid&&(s=isNaN(b)?r.iColByName[b]:parseInt(b,10))>=0&&(k=base.getGridRowById.call($(q),a))){if(l=jgrid.getCell.call(q,k,s),""!==c||!0===f){if(i=t[s],"local"===r.datatype&&(o=stripPref(r.idPrefix,a),void 0!==(p=r._index[o])&&(j=r.data[p])),null==j){for(h=0;h<k.cells.length;h++)if(h!==s&&(m=jgrid.getDataFieldOfCell.call(q,k,h),m.length>0)){try{n=$.unformat.call(q,m,{rowId:a,colModel:t[h]},h)}catch(a){n=htmlDecode(m[0].innerHTML)}u[t[h].name]=n}}else u=j;u[i.name]=c,g=q.formatter(a,c,s,u,"edit");var v=l;!0===r.treeGrid&&i.name===r.ExpandColumn&&(v=v.children("span.cell-wrapperleaf,span.cell-wrapper").first()),v.html(g),i.title&&l.attr({title:c}),null!=j&&(g=convertOnSaveLocally.call(q,c,i,j[i.name],o,j,s),$.isFunction(i.saveLocally)?i.saveLocally.call(q,{newValue:g,newItem:j,oldItem:j,id:o,cm:i,cmName:i.name,iCol:s}):j[i.name]=g)}(d||e)&&(l=jgrid.getCell.call(q,k,s),d&&l["string"==typeof d?"addClass":"css"](d),"object"==typeof e&&l.attr(e))}})},getCell:function(a,b){var c=!1;return this.each(function(){var d,e,f,g,h=this,i=h.p;if(h.grid&&(d=isNaN(b)?i.iColByName[b]:parseInt(b,10))>=0&&(e=base.getGridRowById.call($(h),a))){f=jgrid.getDataFieldOfCell.call(h,e,d).first(),g=i.colModel[d];try{c=base.isCellEditing.call($(h),a,d,e)?jgrid.getEditedValue.call(h,f,g,{},g.editable):$.unformat.call(h,f,{rowId:e.id,colModel:g},d)}catch(a){c=htmlDecode(f.html())}}}),c},getCol:function(a,b,c){var d,e,f,g,h=[],i=0;return b="boolean"==typeof b&&b,void 0===c&&(c=!1),this.each(function(){var j,k,l=this,m=l.p;if(l.grid&&(j=isNaN(a)?m.iColByName[a]:parseInt(a,10))>=0){var n,o,p=l.rows,q=p.length,r=0,s=0,t=m.colModel[j];if(q&&q>0){for(;r<q;){if(n=p[r],$(n).hasClass("jqgrow")){k=jgrid.getDataFieldOfCell.call(l,n,j).first(),o=n.id;try{d=base.isCellEditing.call($(l),o,j,n)?jgrid.getEditedValue.call(l,k,t,{},t.editable):$.unformat.call(l,k,{rowId:o,colModel:t},j)}catch(a){d=htmlDecode(k.html())}c?(g=parseFloat(d),isNaN(g)||(i+=g,void 0===f&&(f=e=g),e=Math.min(e,g),f=Math.max(f,g),s++)):b?h.push({id:o,value:d}):h.push(d)}r++}if(c)switch(c.toLowerCase()){case"sum":h=i;break;case"avg":h=i/s;break;case"count":h=q-1;break;case"min":h=e;break;case"max":h=f}}}}),h},clearGridData:function(a){return this.each(function(){var b=this,c=b.p,d=b.rows,e=b.grid;e&&c&&d&&("boolean"!=typeof a&&(a=!1),$(b).off(".jqGridFormatter"),e.emptyRows.call(b,!1,!0),c.footerrow&&a&&$(".ui-jqgrid-ftable td",e.sDiv).html("&#160;"),c.selrow=null,clearArray(c.selarrrow),clearArray(c.savedRow),c.editingInfo={},clearArray(c.data),clearArray(c.lastSelectedData),c._index={},c.rowIndexes={},c.dataIndexById={},c.indexByColumnData={},c.records=0,c.page=1,c.lastpage=0,c.reccount=0,b.updatepager(!0,!1))})},getInd:function(a,b){var c=base.getGridRowById.call($(this),a);return!!c&&(!0===b?c:c.rowIndex)},bindKeys:function(a){var b=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},a||{});return this.each(function(){var a=this,c=a.p,d=$(a);c.scrollrows=b.scrollingRows,d.on("keydown.jqGrid",function(e){var f=$(this).find("tr[tabindex=0]")[0],g=jgrid.detectRowEditing.call(a,$(e.target).closest("tr.jqgrow").attr("id")),h=function(a){do{if(null===(f=f[a]))return}while($(f).is(":hidden")||!$(f).hasClass("jqgrow"));base.setSelection.call(d,f.id,!0),e.preventDefault()},i=function(e,f){var g=b["on"+e+(f||"")];d.triggerHandler("jqGridKey"+e,[c.selrow]),$.isFunction(g)&&g.call(a,c.selrow)},j=function(a){if(c.treeGrid){var b=c.data[c._index[stripPref(c.idPrefix,f.id)]][c.treeReader.expanded_field];"Right"===a&&(b=!b),b&&$(f).find("div.treeclick").trigger("click")}i(a,"Key")};if(f&&null===g)switch(e.keyCode){case 38:h("previousSibling");break;case 40:h("nextSibling");break;case 37:j("Left");break;case 39:j("Right");break;case 13:i("Enter");break;case 32:i("Space")}})})},unbindKeys:function(){return this.each(function(){$(this).off("keydown.jqGrid")})},getLocalRow:function(a){var b,c=!1;return this.each(function(){void 0!==a&&(b=this.p._index[stripPref(this.p.idPrefix,a)])>=0&&(c=this.p.data[b])}),c},progressBar:function(a){return a=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},a||{}),this.each(function(){var b="show"===a.method,c=jqID(this.p.id),d=$("#load_"+c);switch(""!==a.htmlcontent&&d.html(a.htmlcontent),a.loadtype){case"disable":break;case"enable":d.toggle(b);break;case"block":$("#lui_"+c).toggle(b),d.toggle(b)}})},setColWidth:function(a,b,c,d){return this.each(function(){var e,f=this,g=$(f),h=f.grid,i=f.p;if("string"==typeof a){if(void 0===(a=i.iColByName[a]))return}else if("number"!=typeof a)return;null!=(e=h.headers[a])&&(e.newWidth=b,h.newWidth=i.tblwidth+b-e.width,h.resizeColumn(a,!i.frozenColumns,d),!1===c||d||(f.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(g,h.newWidth+i.scrollOffset,!1)))})},getAutoResizableWidth:function(a){var b=this;if(0===b.length)return-1;b=b[0];var c,d,e,f,g,h=b.rows,i=b.p,j=i.colModel[a],k=$(b.grid.headers[a].el),l=k.find(">div"),m=parseFloat(k.css("padding-left")||0),n=parseFloat(k.css("padding-right")||0),o=l.find("span.s-ico"),p=l.find(">."+i.autoResizing.wrapperClassName),q=p.outerWidth(),r=parseFloat(p.css("width")||0),s=0,t=0,u=null!=j.autoResizing&&void 0!==j.autoResizable.compact?j.autoResizable.compact:i.autoResizing.compact,v=i.autoResizing.wrapperClassName;if(null==j||!j.autoResizable||0===p.length||j.hidden||jgrid.isCellClassHidden(j.classes)||j.fixed)return-1;for(u&&!o.is(":visible")&&"none"===o.css("display")||(t=o.outerWidth(!0),i.sortIconsBeforeText||(t-="rtl"===i.direction?parseFloat(o.css("padding-left")||0)+parseFloat(o.css("margin-left")||0):parseFloat(o.css("padding-right")||0)+parseFloat(o.css("margin-right")||0))),t+=q+m+(r===q?m+n:0)+parseFloat(l.css("margin-left")||0)+parseFloat(l.css("margin-right")||0),e=0,h=b.rows;e<h.length;e++)c=h[e],d=c.cells[a],f=$(c.cells[a]),null!=d&&($(c).hasClass("jqgrow")||$(c).hasClass("jqgroup")&&1===d.colSpan)?(g=$(d.firstChild),g.hasClass(v)?t=Math.max(t,g.outerWidth()+s):i.treeGrid&&i.ExpandColumn===j.name&&(g=f.children(".cell-wrapper,.cell-wrapperleaf"),t=Math.max(t,g.outerWidth()+s+f.children(".tree-wrap").outerWidth()))):$(c).hasClass("jqgfirstrow")&&(s=(jgrid.cell_width?parseFloat(f.css("padding-left")||0)+parseFloat(f.css("padding-right")||0):0)+parseFloat(f.css("border-right")||0)+parseFloat(f.css("border-left")||0));return t=Math.max(t,null!=j.autoResizing&&void 0!==j.autoResizing.minColWidth?j.autoResizing.minColWidth:i.autoResizing.minColWidth),Math.min(t,null!=j.autoResizing&&void 0!==j.autoResizing.maxColWidth?j.autoResizing.maxColWidth:i.autoResizing.maxColWidth)},autoResizeColumn:function(a,b){return this.each(function(){var c,d=this,e=$(this),f=d.p,g=f.colModel[a],h=$(d.grid.headers[a].el),i=base.getAutoResizableWidth.call(e,a),j=(g.autoResizing||{}).resetWidthOrg;null==g||i<0||i===g.width||(base.setColWidth.call(e,a,i,f.autoResizing.adjustGridWidth&&!f.autoResizing.fixWidthOnShrink&&!b,b),f.autoResizing.fixWidthOnShrink&&f.shrinkToFit&&!b&&(g.fixed=!0,c=g.widthOrg,g.widthOrg=g.width,base.setGridWidth.call(e,f.width,!0),g.widthOrg=c,g.fixed=!1),(j||void 0===j&&f.autoResizing.resetWidthOrg)&&(g.widthOrg=g.width),h.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var a,b,c=this,d=$(c),e=c.p,f=e.colModel,g=f.length,h=e.shrinkToFit,i=e.autoResizing.adjustGridWidth,j=e.autoResizing.fixWidthOnShrink,k=parseInt(e.widthOrg,10),l=c.grid,m=base.autoResizeColumn;for(e.shrinkToFit=!1,e.autoResizing.adjustGridWidth=!0,e.autoResizing.fixWidthOnShrink=!1,a=0;a<g;a++)b=f[a],b.autoResizable&&"actions"!==b.formatter&&m.call(d,a,!0);l.hDiv.scrollLeft=l.bDiv.scrollLeft,e.footerrow&&(l.sDiv.scrollLeft=l.bDiv.scrollLeft),c.fixScrollOffsetAndhBoxPadding(),isNaN(k)?i&&base.setGridWidth.call(d,l.newWidth+e.scrollOffset,!1):base.setGridWidth.call(d,k,!1),e.autoResizing.fixWidthOnShrink=j,e.autoResizing.adjustGridWidth=i,e.shrinkToFit=h})}})});
//# sourceMappingURL=grid.base.js.map